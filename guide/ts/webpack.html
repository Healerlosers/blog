<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/logo.png"><title>Webpack | Healer、loser</title><meta name="description" content="学习笔记">
    <link rel="modulepreload" href="/blog/assets/app.39db3157.js"><link rel="modulepreload" href="/blog/assets/webpack.html.665218bc.js"><link rel="modulepreload" href="/blog/assets/webpack.html.de0891cd.js"><link rel="prefetch" href="/blog/assets/index.html.43711301.js"><link rel="prefetch" href="/blog/assets/bgc.html.4a68566d.js"><link rel="prefetch" href="/blog/assets/boxModel.html.d52a7950.js"><link rel="prefetch" href="/blog/assets/flex.html.d458360c.js"><link rel="prefetch" href="/blog/assets/float.html.4c4f6ba6.js"><link rel="prefetch" href="/blog/assets/grid.html.9ebf9954.js"><link rel="prefetch" href="/blog/assets/import.html.9639be89.js"><link rel="prefetch" href="/blog/assets/keyframes.html.60807765.js"><link rel="prefetch" href="/blog/assets/media.html.25c55c51.js"><link rel="prefetch" href="/blog/assets/position.html.29a1a2b1.js"><link rel="prefetch" href="/blog/assets/selected.html.7d565c3c.js"><link rel="prefetch" href="/blog/assets/table.html.8c644c55.js"><link rel="prefetch" href="/blog/assets/text.html.7d21843c.js"><link rel="prefetch" href="/blog/assets/transform.html.8d4b9589.js"><link rel="prefetch" href="/blog/assets/transition.html.399ebd63.js"><link rel="prefetch" href="/blog/assets/viewport.html.1c44d03d.js"><link rel="prefetch" href="/blog/assets/git.html.9de120a5.js"><link rel="prefetch" href="/blog/assets/ajax.html.6eb41d95.js"><link rel="prefetch" href="/blog/assets/array.html.f749765d.js"><link rel="prefetch" href="/blog/assets/base.html.d9363270.js"><link rel="prefetch" href="/blog/assets/basicType.html.ed9fcc1c.js"><link rel="prefetch" href="/blog/assets/canvas.html.04436081.js"><link rel="prefetch" href="/blog/assets/class.html.cd8e65ff.js"><link rel="prefetch" href="/blog/assets/coordinate.html.b1fe67aa.js"><link rel="prefetch" href="/blog/assets/dom.html.22d9bc9e.js"><link rel="prefetch" href="/blog/assets/event.html.c7c2c914.js"><link rel="prefetch" href="/blog/assets/func.html.5f189858.js"><link rel="prefetch" href="/blog/assets/map.html.6650739e.js"><link rel="prefetch" href="/blog/assets/module.html.c3533057.js"><link rel="prefetch" href="/blog/assets/object.html.7058867b.js"><link rel="prefetch" href="/blog/assets/operator.html.304b141f.js"><link rel="prefetch" href="/blog/assets/promise.html.6c903fdb.js"><link rel="prefetch" href="/blog/assets/promiseCore.html.acf09527.js"><link rel="prefetch" href="/blog/assets/prototype.html.15aaa762.js"><link rel="prefetch" href="/blog/assets/regExp.html.f0daa429.js"><link rel="prefetch" href="/blog/assets/scope.html.7ad53e69.js"><link rel="prefetch" href="/blog/assets/set.html.e3b31deb.js"><link rel="prefetch" href="/blog/assets/symbol.html.ad3f4238.js"><link rel="prefetch" href="/blog/assets/task.html.1ff4879c.js"><link rel="prefetch" href="/blog/assets/html.html.cb745d9f.js"><link rel="prefetch" href="/blog/assets/npm.html.0f90340a.js"><link rel="prefetch" href="/blog/assets/nvm.html.e8a396c5.js"><link rel="prefetch" href="/blog/assets/yarn.html.8618d528.js"><link rel="prefetch" href="/blog/assets/assertion.html.2c584beb.js"><link rel="prefetch" href="/blog/assets/baseType.html.f1844829.js"><link rel="prefetch" href="/blog/assets/class_interfaces.html.f4a4bd7f.js"><link rel="prefetch" href="/blog/assets/decorators.html.a33c64bc.js"><link rel="prefetch" href="/blog/assets/generics.html.578aecda.js"><link rel="prefetch" href="/blog/assets/module.html.b994866b.js"><link rel="prefetch" href="/blog/assets/setting.html.2550df78.js"><link rel="prefetch" href="/blog/assets/typeTool.html.c6752df8.js"><link rel="prefetch" href="/blog/assets/404.html.265028f6.js"><link rel="prefetch" href="/blog/assets/index.html.1b6a5a5f.js"><link rel="prefetch" href="/blog/assets/bgc.html.7691e17b.js"><link rel="prefetch" href="/blog/assets/boxModel.html.01b27266.js"><link rel="prefetch" href="/blog/assets/flex.html.e8bfe8b2.js"><link rel="prefetch" href="/blog/assets/float.html.0e27070e.js"><link rel="prefetch" href="/blog/assets/grid.html.0634b9e0.js"><link rel="prefetch" href="/blog/assets/import.html.ca4fa946.js"><link rel="prefetch" href="/blog/assets/keyframes.html.96bbbdf4.js"><link rel="prefetch" href="/blog/assets/media.html.608b5b9c.js"><link rel="prefetch" href="/blog/assets/position.html.396f43da.js"><link rel="prefetch" href="/blog/assets/selected.html.34a8c54b.js"><link rel="prefetch" href="/blog/assets/table.html.24816331.js"><link rel="prefetch" href="/blog/assets/text.html.93895ba6.js"><link rel="prefetch" href="/blog/assets/transform.html.14ea20d1.js"><link rel="prefetch" href="/blog/assets/transition.html.96c1949c.js"><link rel="prefetch" href="/blog/assets/viewport.html.5a69a4a8.js"><link rel="prefetch" href="/blog/assets/git.html.59209482.js"><link rel="prefetch" href="/blog/assets/ajax.html.a8810954.js"><link rel="prefetch" href="/blog/assets/array.html.fdb321b0.js"><link rel="prefetch" href="/blog/assets/base.html.30334a22.js"><link rel="prefetch" href="/blog/assets/basicType.html.f6d74afa.js"><link rel="prefetch" href="/blog/assets/canvas.html.12bafc42.js"><link rel="prefetch" href="/blog/assets/class.html.10ec5235.js"><link rel="prefetch" href="/blog/assets/coordinate.html.5f5e4bb0.js"><link rel="prefetch" href="/blog/assets/dom.html.9cb9f2c5.js"><link rel="prefetch" href="/blog/assets/event.html.8e1d6579.js"><link rel="prefetch" href="/blog/assets/func.html.2ecedfa2.js"><link rel="prefetch" href="/blog/assets/map.html.da6e59f7.js"><link rel="prefetch" href="/blog/assets/module.html.2ccf88ed.js"><link rel="prefetch" href="/blog/assets/object.html.e0ca664a.js"><link rel="prefetch" href="/blog/assets/operator.html.25f6d601.js"><link rel="prefetch" href="/blog/assets/promise.html.fe0379d6.js"><link rel="prefetch" href="/blog/assets/promiseCore.html.4566aa39.js"><link rel="prefetch" href="/blog/assets/prototype.html.9135682a.js"><link rel="prefetch" href="/blog/assets/regExp.html.ffc36b6c.js"><link rel="prefetch" href="/blog/assets/scope.html.a936fcab.js"><link rel="prefetch" href="/blog/assets/set.html.57cb9395.js"><link rel="prefetch" href="/blog/assets/symbol.html.647cace5.js"><link rel="prefetch" href="/blog/assets/task.html.062ae27c.js"><link rel="prefetch" href="/blog/assets/html.html.e9183e8a.js"><link rel="prefetch" href="/blog/assets/npm.html.7c38aa01.js"><link rel="prefetch" href="/blog/assets/nvm.html.2ef787e4.js"><link rel="prefetch" href="/blog/assets/yarn.html.fbdacb83.js"><link rel="prefetch" href="/blog/assets/assertion.html.2728c7d4.js"><link rel="prefetch" href="/blog/assets/baseType.html.be0c89ec.js"><link rel="prefetch" href="/blog/assets/class_interfaces.html.6b57719b.js"><link rel="prefetch" href="/blog/assets/decorators.html.f381c6b9.js"><link rel="prefetch" href="/blog/assets/generics.html.a071416b.js"><link rel="prefetch" href="/blog/assets/module.html.557489e1.js"><link rel="prefetch" href="/blog/assets/setting.html.d024dcd0.js"><link rel="prefetch" href="/blog/assets/typeTool.html.7d7dadf7.js"><link rel="prefetch" href="/blog/assets/404.html.6333958a.js"><link rel="prefetch" href="/blog/assets/404.83caa0b0.js"><link rel="prefetch" href="/blog/assets/Layout.dfdffd07.js">
    <link rel="stylesheet" href="/blog/assets/style.0852bb10.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blog/" class=""><img class="logo" src="/blog/images/logo.png" alt="Healer、loser"><span class="site-name can-hide">Healer、loser</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web"><span class="title">Web</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web"><span class="title">Web</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>个人笔记</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/guide/html/html" class="" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/css/selected" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/js/base" class="" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/blog/guide/git/git" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/guide/ts/setting" class="" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工具"><span class="title">工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工具"><span class="title">工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工具软件</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/guide/tool/npm" class="" aria-label="npm"><!--[--><!--]--> npm <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/tool/yarn" class="" aria-label="yarn"><!--[--><!--]--> yarn <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/tool/nvm" class="" aria-label="nvm"><!--[--><!--]--> nvm <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web"><span class="title">Web</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web"><span class="title">Web</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>个人笔记</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/guide/html/html" class="" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/css/selected" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/js/base" class="" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/blog/guide/git/git" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/guide/ts/setting" class="" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工具"><span class="title">工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工具"><span class="title">工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工具软件</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/guide/tool/npm" class="" aria-label="npm"><!--[--><!--]--> npm <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/tool/yarn" class="" aria-label="yarn"><!--[--><!--]--> yarn <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/tool/nvm" class="" aria-label="nvm"><!--[--><!--]--> nvm <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/blog/guide/ts/setting.html" class="sidebar-item sidebar-heading" aria-label="环境配置"><!--[--><!--]--> 环境配置 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/ts/baseType.html" class="sidebar-item sidebar-heading" aria-label="基本类型"><!--[--><!--]--> 基本类型 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/ts/assertion.html" class="sidebar-item sidebar-heading" aria-label="类型断言"><!--[--><!--]--> 类型断言 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/ts/class_interfaces.html" class="sidebar-item sidebar-heading" aria-label="类与接口"><!--[--><!--]--> 类与接口 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/ts/generics.html" class="sidebar-item sidebar-heading" aria-label="泛型"><!--[--><!--]--> 泛型 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/ts/decorators.html" class="sidebar-item sidebar-heading" aria-label="装饰器"><!--[--><!--]--> 装饰器 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/ts/module.html" class="sidebar-item sidebar-heading" aria-label="模块管理"><!--[--><!--]--> 模块管理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/ts/webpack.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/ts/webpack.html#初始环境" class="router-link-active router-link-exact-active sidebar-item" aria-label="初始环境"><!--[--><!--]--> 初始环境 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/ts/webpack.html#目录结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="目录结构"><!--[--><!--]--> 目录结构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/ts/webpack.html#文件说明" class="router-link-active router-link-exact-active sidebar-item" aria-label="文件说明"><!--[--><!--]--> 文件说明 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/ts/webpack.html#webpack-config-js" class="router-link-active router-link-exact-active sidebar-item" aria-label="webpack.config.js"><!--[--><!--]--> webpack.config.js <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/ts/webpack.html#package-json" class="router-link-active router-link-exact-active sidebar-item" aria-label="package.json"><!--[--><!--]--> package.json <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/ts/webpack.html#tsconfig-json" class="router-link-active router-link-exact-active sidebar-item" aria-label="tsconfig.json"><!--[--><!--]--> tsconfig.json <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/ts/webpack.html#编译测试" class="router-link-active router-link-exact-active sidebar-item" aria-label="编译测试"><!--[--><!--]--> 编译测试 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/ts/webpack.html#项目示例" class="router-link-active router-link-exact-active sidebar-item" aria-label="项目示例"><!--[--><!--]--> 项目示例 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/blog/guide/ts/typeTool.html" class="sidebar-item sidebar-heading" aria-label="类型工具"><!--[--><!--]--> 类型工具 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="webpack" tabindex="-1"><a class="header-anchor" href="#webpack" aria-hidden="true">#</a> Webpack</h1><p>使用 webpack 打包 TS 项目是推荐做法，webpack 可以将多个模块文件打包到一个文件中。当然不只处理 TS、也可以处理 sass、less、vue、react 等文件</p><h2 id="初始环境" tabindex="-1"><a class="header-anchor" href="#初始环境" aria-hidden="true">#</a> 初始环境</h2><p>创建 package.json 用于管理项目及扩展包</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yarn init -y
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装安装打包需要的软件</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yarn add -D typescript webpack webpack-cli ts-loader webpack-dev-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>webpack 核心文件、webpack-cli 命令行工具，用于实现 webpack 核心功能</li><li>ts-loader 用于处理 typescript 的 ts-loader 软件</li><li>webpack-dev-server 在开发阶段启动访问地址为 localhost:3000 服务，修改时网页自动刷新的热更新效果</li></ul><p>接下来创建 typescript 的配置文件 tsconfig.js</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>tsc --init
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="目录结构" tabindex="-1"><a class="header-anchor" href="#目录结构" aria-hidden="true">#</a> 目录结构</h2><p>首先看一下项目的目录结构</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>├── <span class="token keyword">public</span>
│   ├── dist
│   │   └── app<span class="token punctuation">.</span>js    最终编译文件
│   └── index<span class="token punctuation">.</span>html		模板文件
├── <span class="token keyword">package</span><span class="token punctuation">.</span>json			项目配置
├── src								项目源文件
│   └── index<span class="token punctuation">.</span>ts			项目入口文件
├── tsconfig<span class="token punctuation">.</span>json			typescript 配置文件
├── webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js	webpack 配置文件
└── yarn<span class="token punctuation">.</span>lock					锁定项目安装后的软件包版本，其他人安装我们项目时可以使用相同的版本，保证正常运行
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="文件说明" tabindex="-1"><a class="header-anchor" href="#文件说明" aria-hidden="true">#</a> 文件说明</h2><h3 id="webpack-config-js" tabindex="-1"><a class="header-anchor" href="#webpack-config-js" aria-hidden="true">#</a> webpack.config.js</h3><p>webpack.config.js</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//程序打包的起点即入口文件</span>
  entry<span class="token operator">:</span> <span class="token string">&#39;./src/index.ts&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">//配置 webpack 如何去输出,webpack 会将打包到一个文件中，从而减少网络请求</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//最终编译文件与目录</span>
    filename<span class="token operator">:</span> <span class="token string">&#39;app.js&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">//输出目录的绝对路径，所以要使用 path 模块的 resolve 方法处理,node.js已经内置了path模块</span>
    <span class="token comment">//参数一__dirname为当前文件的路径，参数二dist为与参数一组合后的目录</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;public/dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">//使用webpack-dev-server运行编译时，即热更新时的静态文件前缀</span>
    <span class="token comment">//因为编译内容是存在内存中的，不会真正创建文件，设置publicPath值决定以什么路径引用文件</span>
    <span class="token comment">//值是相对于 public/index.html 的路径，需要以 / 结尾</span>
    <span class="token comment">//需要安装 webpack-dev-server</span>
    publicPath<span class="token operator">:</span> <span class="token string">&#39;/dist/&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//项目中的不同类型模块的处理规则</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//test定义文件检测，满足后才处理，下面定义文件是否为 ts 或tsx，则满中本规则，然后进行处理</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.tsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">//use定义处理器，下面是使用 ts-loader 将 ts或 tsx 文件编译成 javascript</span>
        use<span class="token operator">:</span> <span class="token string">&#39;ts-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token comment">//exclude排除node_modules 目录中的文件处理</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//配置模块如何解析</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//在使用 import Hd from Util 等代码时，如果不添加扩展名，webpack 按以下扩展名顺序匹配文件</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.tsx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.ts&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="package-json" tabindex="-1"><a class="header-anchor" href="#package-json" aria-hidden="true">#</a> package.json</h3><p>package.json 项目配置文件</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;houdunren.com&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --mode=development&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --mode=production&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;ts-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^9.2.6&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.4.3&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.56.0&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.8.0&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;webpack-dev-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.3.0&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行以下命令查看不同的执行结果</p><ul><li>development 是开发阶段</li><li>production 是生产环境使用，会对代码进行更好的压缩与优化</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yarn run webpack --mode=development
yarn run webpack --mode=production
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tsconfig-json" tabindex="-1"><a class="header-anchor" href="#tsconfig-json" aria-hidden="true">#</a> tsconfig.json</h3><p>tsconfig.json 是对 typescript 的配置，TypeScript 中使用 ES6 模块，并编译 js 为 ES6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>...
&quot;target&quot;: &quot;ES6&quot;,
&quot;module&quot;: &quot;ES6&quot;
....
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="编译测试" tabindex="-1"><a class="header-anchor" href="#编译测试" aria-hidden="true">#</a> 编译测试</h3><p>修改 public/index.html 内容如下</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>TS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>houdurnen.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./dist/app.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在命令行执行 <code>yarn run dev</code>，会看到以下执行结果</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>$ webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server <span class="token operator">--</span>mode<span class="token operator">=</span>development
<span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> <span class="token punctuation">[</span>webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server<span class="token punctuation">]</span> Project <span class="token keyword">is</span> running at<span class="token operator">:</span>
<span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> <span class="token punctuation">[</span>webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server<span class="token punctuation">]</span> Loopback<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">localhost:8080</span><span class="token regex-delimiter">/</span></span>
<span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> <span class="token punctuation">[</span>webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server<span class="token punctuation">]</span> On Your <span class="token function">Network</span> <span class="token punctuation">(</span>IPv4<span class="token punctuation">)</span><span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">192.168.31.156:8080</span><span class="token regex-delimiter">/</span></span>
<span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> <span class="token punctuation">[</span>webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server<span class="token punctuation">]</span> On Your <span class="token function">Network</span> <span class="token punctuation">(</span>IPv6<span class="token punctuation">)</span><span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[fe80::1]:8080</span><span class="token regex-delimiter">/</span></span>
<span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> <span class="token punctuation">[</span>webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server<span class="token punctuation">]</span> Content not from webpack <span class="token keyword">is</span> served <span class="token keyword">from</span> <span class="token string">&#39;/Users/hd/test/ts/public&#39;</span> directory
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在浏览器中访问 <code>http://localhost:8080/</code> ，这时修改内容后，浏览器也会同步热更新</p><p>项目开发完毕后可以执行 <code>yarn run build</code> 生成体积更小的编译文件，文件地址为 public/app.js</p><h2 id="项目示例" tabindex="-1"><a class="header-anchor" href="#项目示例" aria-hidden="true">#</a> 项目示例</h2><p>下面来体验一下 typescript 结合 ES6 的模块的开发过程</p><p>index.html 项目访问主文件</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>TS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dist/app.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>src/user.ts user 模块文件</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">namespace</span> User <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">let</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">namespace</span> Member <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&#39;李四&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>src/index.ts 项目入口文件</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import { User, Member } from &#39;./user&#39;
console.log(User.name);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>最后执行编译命令生成 dist/bundle.js 编译文件，然后再浏览器中访问 index.html</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yarn run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1679864406@qq.com">healers丶loser</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/blog/guide/ts/module.html" class="" aria-label="模块管理"><!--[--><!--]--> 模块管理 <!--[--><!--]--></a></span><span class="next"><a href="/blog/guide/ts/typeTool.html" class="" aria-label="类型工具"><!--[--><!--]--> 类型工具 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/blog/assets/app.39db3157.js" defer></script>
  </body>
</html>
