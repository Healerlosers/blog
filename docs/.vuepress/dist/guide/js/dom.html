<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/logo.png"><title>DOM | Healer、loser</title><meta name="description" content="学习笔记">
    <link rel="modulepreload" href="/blog/assets/app.b009acf6.js"><link rel="modulepreload" href="/blog/assets/dom.html.5b04342c.js"><link rel="modulepreload" href="/blog/assets/dom.html.22d9bc9e.js"><link rel="prefetch" href="/blog/assets/index.html.43711301.js"><link rel="prefetch" href="/blog/assets/bgc.html.4a68566d.js"><link rel="prefetch" href="/blog/assets/boxModel.html.d52a7950.js"><link rel="prefetch" href="/blog/assets/flex.html.d458360c.js"><link rel="prefetch" href="/blog/assets/float.html.4c4f6ba6.js"><link rel="prefetch" href="/blog/assets/grid.html.9ebf9954.js"><link rel="prefetch" href="/blog/assets/import.html.9639be89.js"><link rel="prefetch" href="/blog/assets/keyframes.html.60807765.js"><link rel="prefetch" href="/blog/assets/media.html.25c55c51.js"><link rel="prefetch" href="/blog/assets/position.html.29a1a2b1.js"><link rel="prefetch" href="/blog/assets/selected.html.7d565c3c.js"><link rel="prefetch" href="/blog/assets/table.html.8c644c55.js"><link rel="prefetch" href="/blog/assets/text.html.7d21843c.js"><link rel="prefetch" href="/blog/assets/transform.html.8d4b9589.js"><link rel="prefetch" href="/blog/assets/transition.html.399ebd63.js"><link rel="prefetch" href="/blog/assets/viewport.html.1c44d03d.js"><link rel="prefetch" href="/blog/assets/git.html.9de120a5.js"><link rel="prefetch" href="/blog/assets/html.html.cb745d9f.js"><link rel="prefetch" href="/blog/assets/assertion.html.2c584beb.js"><link rel="prefetch" href="/blog/assets/baseType.html.f1844829.js"><link rel="prefetch" href="/blog/assets/class_interfaces.html.f4a4bd7f.js"><link rel="prefetch" href="/blog/assets/decorators.html.a33c64bc.js"><link rel="prefetch" href="/blog/assets/generics.html.578aecda.js"><link rel="prefetch" href="/blog/assets/module.html.b994866b.js"><link rel="prefetch" href="/blog/assets/setting.html.2550df78.js"><link rel="prefetch" href="/blog/assets/typeTool.html.74fc9469.js"><link rel="prefetch" href="/blog/assets/webpack.html.de0891cd.js"><link rel="prefetch" href="/blog/assets/ajax.html.6eb41d95.js"><link rel="prefetch" href="/blog/assets/array.html.f749765d.js"><link rel="prefetch" href="/blog/assets/base.html.d9363270.js"><link rel="prefetch" href="/blog/assets/basicType.html.ed9fcc1c.js"><link rel="prefetch" href="/blog/assets/class.html.cd8e65ff.js"><link rel="prefetch" href="/blog/assets/coordinate.html.b1fe67aa.js"><link rel="prefetch" href="/blog/assets/event.html.c7c2c914.js"><link rel="prefetch" href="/blog/assets/func.html.5f189858.js"><link rel="prefetch" href="/blog/assets/map.html.6650739e.js"><link rel="prefetch" href="/blog/assets/module.html.c3533057.js"><link rel="prefetch" href="/blog/assets/object.html.7058867b.js"><link rel="prefetch" href="/blog/assets/operator.html.304b141f.js"><link rel="prefetch" href="/blog/assets/promise.html.6c903fdb.js"><link rel="prefetch" href="/blog/assets/promiseCore.html.acf09527.js"><link rel="prefetch" href="/blog/assets/prototype.html.15aaa762.js"><link rel="prefetch" href="/blog/assets/regExp.html.f0daa429.js"><link rel="prefetch" href="/blog/assets/scope.html.7ad53e69.js"><link rel="prefetch" href="/blog/assets/set.html.e3b31deb.js"><link rel="prefetch" href="/blog/assets/symbol.html.ad3f4238.js"><link rel="prefetch" href="/blog/assets/task.html.1ff4879c.js"><link rel="prefetch" href="/blog/assets/404.html.265028f6.js"><link rel="prefetch" href="/blog/assets/index.html.d88de4d5.js"><link rel="prefetch" href="/blog/assets/bgc.html.e2469946.js"><link rel="prefetch" href="/blog/assets/boxModel.html.a43dc4c0.js"><link rel="prefetch" href="/blog/assets/flex.html.282609a4.js"><link rel="prefetch" href="/blog/assets/float.html.148391d8.js"><link rel="prefetch" href="/blog/assets/grid.html.89ecd2d3.js"><link rel="prefetch" href="/blog/assets/import.html.4ba487aa.js"><link rel="prefetch" href="/blog/assets/keyframes.html.72e4b38a.js"><link rel="prefetch" href="/blog/assets/media.html.cf03b36a.js"><link rel="prefetch" href="/blog/assets/position.html.9462b52c.js"><link rel="prefetch" href="/blog/assets/selected.html.3c7cba98.js"><link rel="prefetch" href="/blog/assets/table.html.fe401f07.js"><link rel="prefetch" href="/blog/assets/text.html.8e98ee24.js"><link rel="prefetch" href="/blog/assets/transform.html.98815ce7.js"><link rel="prefetch" href="/blog/assets/transition.html.070669eb.js"><link rel="prefetch" href="/blog/assets/viewport.html.c5e03db8.js"><link rel="prefetch" href="/blog/assets/git.html.a64f78c4.js"><link rel="prefetch" href="/blog/assets/html.html.ab8a72cc.js"><link rel="prefetch" href="/blog/assets/assertion.html.efcaa4fe.js"><link rel="prefetch" href="/blog/assets/baseType.html.7f974c8d.js"><link rel="prefetch" href="/blog/assets/class_interfaces.html.e809cf84.js"><link rel="prefetch" href="/blog/assets/decorators.html.6d657c9a.js"><link rel="prefetch" href="/blog/assets/generics.html.5b61adeb.js"><link rel="prefetch" href="/blog/assets/module.html.7d14ffb0.js"><link rel="prefetch" href="/blog/assets/setting.html.f8feacbf.js"><link rel="prefetch" href="/blog/assets/typeTool.html.68727d41.js"><link rel="prefetch" href="/blog/assets/webpack.html.e05626ec.js"><link rel="prefetch" href="/blog/assets/ajax.html.b82a3b74.js"><link rel="prefetch" href="/blog/assets/array.html.fee601cb.js"><link rel="prefetch" href="/blog/assets/base.html.b4f2c300.js"><link rel="prefetch" href="/blog/assets/basicType.html.ff31ebca.js"><link rel="prefetch" href="/blog/assets/class.html.9c452e05.js"><link rel="prefetch" href="/blog/assets/coordinate.html.3bc849dc.js"><link rel="prefetch" href="/blog/assets/event.html.fc8920c3.js"><link rel="prefetch" href="/blog/assets/func.html.67e4241e.js"><link rel="prefetch" href="/blog/assets/map.html.d96c9fff.js"><link rel="prefetch" href="/blog/assets/module.html.da9f1d3f.js"><link rel="prefetch" href="/blog/assets/object.html.8954df09.js"><link rel="prefetch" href="/blog/assets/operator.html.8bf06291.js"><link rel="prefetch" href="/blog/assets/promise.html.01986d95.js"><link rel="prefetch" href="/blog/assets/promiseCore.html.5b7a2cfd.js"><link rel="prefetch" href="/blog/assets/prototype.html.ca512b66.js"><link rel="prefetch" href="/blog/assets/regExp.html.c2824558.js"><link rel="prefetch" href="/blog/assets/scope.html.c34722c8.js"><link rel="prefetch" href="/blog/assets/set.html.f452d25f.js"><link rel="prefetch" href="/blog/assets/symbol.html.eb47cc71.js"><link rel="prefetch" href="/blog/assets/task.html.02badebb.js"><link rel="prefetch" href="/blog/assets/404.html.f9241f56.js"><link rel="prefetch" href="/blog/assets/404.e335539d.js"><link rel="prefetch" href="/blog/assets/Layout.ce6d79d1.js">
    <link rel="stylesheet" href="/blog/assets/style.3d6fbcf1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blog/" class=""><img class="logo" src="/blog/images/logo.png" alt="Healer、loser"><span class="site-name can-hide">Healer、loser</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web"><span class="title">Web</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web"><span class="title">Web</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>个人笔记</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/guide/html/html" class="" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/css/selected" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/js/regExp" class="" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/blog/guide/git/git" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/guide/ts/setting" class="" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web"><span class="title">Web</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web"><span class="title">Web</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>个人笔记</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/guide/html/html" class="" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/css/selected" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/guide/js/regExp" class="" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/blog/guide/git/git" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/guide/ts/setting" class="" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/blog/guide/js/base.html" class="sidebar-item sidebar-heading" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/operator.html" class="sidebar-item sidebar-heading" aria-label="运算符与流程控制"><!--[--><!--]--> 运算符与流程控制 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/basicType.html" class="sidebar-item sidebar-heading" aria-label="基本类型"><!--[--><!--]--> 基本类型 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/array.html" class="sidebar-item sidebar-heading" aria-label="数组类型"><!--[--><!--]--> 数组类型 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/symbol.html" class="sidebar-item sidebar-heading" aria-label="Symbol"><!--[--><!--]--> Symbol <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/set.html" class="sidebar-item sidebar-heading" aria-label="Set"><!--[--><!--]--> Set <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/map.html" class="sidebar-item sidebar-heading" aria-label="Map"><!--[--><!--]--> Map <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/func.html" class="sidebar-item sidebar-heading" aria-label="函数进阶"><!--[--><!--]--> 函数进阶 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/scope.html" class="sidebar-item sidebar-heading" aria-label="作用域与闭包"><!--[--><!--]--> 作用域与闭包 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/object.html" class="sidebar-item sidebar-heading" aria-label="对象"><!--[--><!--]--> 对象 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/prototype.html" class="sidebar-item sidebar-heading" aria-label="原型与继承"><!--[--><!--]--> 原型与继承 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/class.html" class="sidebar-item sidebar-heading" aria-label="类"><!--[--><!--]--> 类 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/module.html" class="sidebar-item sidebar-heading" aria-label="模块设计"><!--[--><!--]--> 模块设计 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/regExp.html" class="sidebar-item sidebar-heading" aria-label="正则表达式"><!--[--><!--]--> 正则表达式 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/promise.html" class="sidebar-item sidebar-heading" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/task.html" class="sidebar-item sidebar-heading" aria-label="任务管理"><!--[--><!--]--> 任务管理 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/promiseCore.html" class="sidebar-item sidebar-heading" aria-label="Promise核心"><!--[--><!--]--> Promise核心 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="DOM"><!--[--><!--]--> DOM <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#文档渲染" class="router-link-active router-link-exact-active sidebar-item" aria-label="文档渲染"><!--[--><!--]--> 文档渲染 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#表格处理" class="router-link-active router-link-exact-active sidebar-item" aria-label="表格处理"><!--[--><!--]--> 表格处理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#标签移动" class="router-link-active router-link-exact-active sidebar-item" aria-label="标签移动"><!--[--><!--]--> 标签移动 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#操作时机" class="router-link-active router-link-exact-active sidebar-item" aria-label="操作时机"><!--[--><!--]--> 操作时机 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#节点对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="节点对象"><!--[--><!--]--> 节点对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#原型链" class="router-link-active router-link-exact-active sidebar-item" aria-label="原型链"><!--[--><!--]--> 原型链 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#对象特征" class="router-link-active router-link-exact-active sidebar-item" aria-label="对象特征"><!--[--><!--]--> 对象特征 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#常用节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="常用节点"><!--[--><!--]--> 常用节点 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#document" class="router-link-active router-link-exact-active sidebar-item" aria-label="DOCUMENT"><!--[--><!--]--> DOCUMENT <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#id" class="router-link-active router-link-exact-active sidebar-item" aria-label="ID"><!--[--><!--]--> ID <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#links" class="router-link-active router-link-exact-active sidebar-item" aria-label="links"><!--[--><!--]--> links <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#anchors" class="router-link-active router-link-exact-active sidebar-item" aria-label="anchors"><!--[--><!--]--> anchors <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#images" class="router-link-active router-link-exact-active sidebar-item" aria-label="images"><!--[--><!--]--> images <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#节点属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="节点属性"><!--[--><!--]--> 节点属性 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#nodetype" class="router-link-active router-link-exact-active sidebar-item" aria-label="nodeType"><!--[--><!--]--> nodeType <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#prototype" class="router-link-active router-link-exact-active sidebar-item" aria-label="Prototype"><!--[--><!--]--> Prototype <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#nodename" class="router-link-active router-link-exact-active sidebar-item" aria-label="nodeName"><!--[--><!--]--> nodeName <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#tagname" class="router-link-active router-link-exact-active sidebar-item" aria-label="tagName"><!--[--><!--]--> tagName <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#nodevalue" class="router-link-active router-link-exact-active sidebar-item" aria-label="nodeValue"><!--[--><!--]--> nodeValue <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#树状节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="树状节点"><!--[--><!--]--> 树状节点 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#节点集合" class="router-link-active router-link-exact-active sidebar-item" aria-label="节点集合"><!--[--><!--]--> 节点集合 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#length" class="router-link-active router-link-exact-active sidebar-item" aria-label="length"><!--[--><!--]--> length <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#item" class="router-link-active router-link-exact-active sidebar-item" aria-label="item"><!--[--><!--]--> item <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#nameditem" class="router-link-active router-link-exact-active sidebar-item" aria-label="namedItem"><!--[--><!--]--> namedItem <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#动态与静态" class="router-link-active router-link-exact-active sidebar-item" aria-label="动态与静态"><!--[--><!--]--> 动态与静态 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#使用静态" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用静态"><!--[--><!--]--> 使用静态 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#遍历节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="遍历节点"><!--[--><!--]--> 遍历节点 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#forof" class="router-link-active router-link-exact-active sidebar-item" aria-label="forOf"><!--[--><!--]--> forOf <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#foreach" class="router-link-active router-link-exact-active sidebar-item" aria-label="forEach"><!--[--><!--]--> forEach <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#call-apply" class="router-link-active router-link-exact-active sidebar-item" aria-label="call/apply"><!--[--><!--]--> call/apply <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#array-from" class="router-link-active router-link-exact-active sidebar-item" aria-label="Array.from"><!--[--><!--]--> Array.from <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#展开语法" class="router-link-active router-link-exact-active sidebar-item" aria-label="展开语法"><!--[--><!--]--> 展开语法 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#节点关系" class="router-link-active router-link-exact-active sidebar-item" aria-label="节点关系"><!--[--><!--]--> 节点关系 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#基础知识" class="router-link-active router-link-exact-active sidebar-item" aria-label="基础知识"><!--[--><!--]--> 基础知识 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#父节点集合" class="router-link-active router-link-exact-active sidebar-item" aria-label="父节点集合"><!--[--><!--]--> 父节点集合 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#后代节点集合" class="router-link-active router-link-exact-active sidebar-item" aria-label="后代节点集合"><!--[--><!--]--> 后代节点集合 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#标签关系" class="router-link-active router-link-exact-active sidebar-item" aria-label="标签关系"><!--[--><!--]--> 标签关系 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#基础知识-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="基础知识"><!--[--><!--]--> 基础知识 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#按类名获取标签" class="router-link-active router-link-exact-active sidebar-item" aria-label="按类名获取标签"><!--[--><!--]--> 按类名获取标签 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#标签获取" class="router-link-active router-link-exact-active sidebar-item" aria-label="标签获取"><!--[--><!--]--> 标签获取 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#getelementbyid" class="router-link-active router-link-exact-active sidebar-item" aria-label="getElementById"><!--[--><!--]--> getElementById <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#getelementsbyname" class="router-link-active router-link-exact-active sidebar-item" aria-label="getElementsByName"><!--[--><!--]--> getElementsByName <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#getelementsbytagname" class="router-link-active router-link-exact-active sidebar-item" aria-label="getElementsByTagName"><!--[--><!--]--> getElementsByTagName <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#getelementsbyclassname" class="router-link-active router-link-exact-active sidebar-item" aria-label="getElementsByClassName"><!--[--><!--]--> getElementsByClassName <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#样式选择器" class="router-link-active router-link-exact-active sidebar-item" aria-label="样式选择器"><!--[--><!--]--> 样式选择器 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#queryselectorall" class="router-link-active router-link-exact-active sidebar-item" aria-label="querySelectorAll"><!--[--><!--]--> querySelectorAll <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#queryselector" class="router-link-active router-link-exact-active sidebar-item" aria-label="querySelector"><!--[--><!--]--> querySelector <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#matches" class="router-link-active router-link-exact-active sidebar-item" aria-label="matches"><!--[--><!--]--> matches <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#closest" class="router-link-active router-link-exact-active sidebar-item" aria-label="closest"><!--[--><!--]--> closest <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#标准属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="标准属性"><!--[--><!--]--> 标准属性 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#属性别名" class="router-link-active router-link-exact-active sidebar-item" aria-label="属性别名"><!--[--><!--]--> 属性别名 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#多类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="多类型"><!--[--><!--]--> 多类型 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#元素特征" class="router-link-active router-link-exact-active sidebar-item" aria-label="元素特征"><!--[--><!--]--> 元素特征 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#attributes" class="router-link-active router-link-exact-active sidebar-item" aria-label="attributes"><!--[--><!--]--> attributes <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#自定义特征" class="router-link-active router-link-exact-active sidebar-item" aria-label="自定义特征"><!--[--><!--]--> 自定义特征 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#属性同步" class="router-link-active router-link-exact-active sidebar-item" aria-label="属性同步"><!--[--><!--]--> 属性同步 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#创建节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建节点"><!--[--><!--]--> 创建节点 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#append" class="router-link-active router-link-exact-active sidebar-item" aria-label="append"><!--[--><!--]--> append <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#createtextnode" class="router-link-active router-link-exact-active sidebar-item" aria-label="createTextNode"><!--[--><!--]--> createTextNode <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#createelement" class="router-link-active router-link-exact-active sidebar-item" aria-label="createElement"><!--[--><!--]--> createElement <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#clonenode-importnode" class="router-link-active router-link-exact-active sidebar-item" aria-label="cloneNode&amp;importNode"><!--[--><!--]--> cloneNode&amp;importNode <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#节点内容" class="router-link-active router-link-exact-active sidebar-item" aria-label="节点内容"><!--[--><!--]--> 节点内容 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#innerhtml" class="router-link-active router-link-exact-active sidebar-item" aria-label="innerHTML"><!--[--><!--]--> innerHTML <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#outerhtml" class="router-link-active router-link-exact-active sidebar-item" aria-label="outerHTML"><!--[--><!--]--> outerHTML <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#textcontent-与-innertext" class="router-link-active router-link-exact-active sidebar-item" aria-label="textContent 与 innerText"><!--[--><!--]--> textContent 与 innerText <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#outertext" class="router-link-active router-link-exact-active sidebar-item" aria-label="outerText"><!--[--><!--]--> outerText <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#insertadjacenttext" class="router-link-active router-link-exact-active sidebar-item" aria-label="insertAdjacentText"><!--[--><!--]--> insertAdjacentText <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#节点管理" class="router-link-active router-link-exact-active sidebar-item" aria-label="节点管理"><!--[--><!--]--> 节点管理 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#推荐方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="推荐方法"><!--[--><!--]--> 推荐方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#insertadjacenthtml" class="router-link-active router-link-exact-active sidebar-item" aria-label="insertAdjacentHTML"><!--[--><!--]--> insertAdjacentHTML <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#insertadjacentelement" class="router-link-active router-link-exact-active sidebar-item" aria-label="insertAdjacentElement"><!--[--><!--]--> insertAdjacentElement <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#古老方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="古老方法"><!--[--><!--]--> 古老方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#documentfragment" class="router-link-active router-link-exact-active sidebar-item" aria-label="DocumentFragment"><!--[--><!--]--> DocumentFragment <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#表单控制" class="router-link-active router-link-exact-active sidebar-item" aria-label="表单控制"><!--[--><!--]--> 表单控制 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#表单查找" class="router-link-active router-link-exact-active sidebar-item" aria-label="表单查找"><!--[--><!--]--> 表单查找 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/guide/js/dom.html#样式管理" class="router-link-active router-link-exact-active sidebar-item" aria-label="样式管理"><!--[--><!--]--> 样式管理 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/guide/js/dom.html#批量设置" class="router-link-active router-link-exact-active sidebar-item" aria-label="批量设置"><!--[--><!--]--> 批量设置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#classlist" class="router-link-active router-link-exact-active sidebar-item" aria-label="classList"><!--[--><!--]--> classList <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#设置行样式" class="router-link-active router-link-exact-active sidebar-item" aria-label="设置行样式"><!--[--><!--]--> 设置行样式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/guide/js/dom.html#获取样式" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取样式"><!--[--><!--]--> 获取样式 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/blog/guide/js/coordinate.html" class="sidebar-item sidebar-heading" aria-label="空间坐标"><!--[--><!--]--> 空间坐标 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/event.html" class="sidebar-item sidebar-heading" aria-label="事件"><!--[--><!--]--> 事件 <!--[--><!--]--></a><!----></li><li><a href="/blog/guide/js/ajax.html" class="sidebar-item sidebar-heading" aria-label="Ajax"><!--[--><!--]--> Ajax <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="dom" tabindex="-1"><a class="header-anchor" href="#dom" aria-hidden="true">#</a> DOM</h1><h2 id="文档渲染" tabindex="-1"><a class="header-anchor" href="#文档渲染" aria-hidden="true">#</a> 文档渲染</h2><p>浏览器会将 HTML 文本内容进行渲染，并生成相应的 JS 对象，同时会对不符规则的标签进行处理</p><ul><li>浏览器会将标签规范后渲染页面</li><li>目的一让页面可以正确呈现</li><li>目的二可以生成统一的 JS 可操作对象</li></ul><h3 id="表格处理" tabindex="-1"><a class="header-anchor" href="#表格处理" aria-hidden="true">#</a> 表格处理</h3><p>表格 tabel 中不允许有内容，浏览器在渲染过程中会进行处理</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  张三
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>张三<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="标签移动" tabindex="-1"><a class="header-anchor" href="#标签移动" aria-hidden="true">#</a> 标签移动</h3><p>所有内容要写在 BODY 标签中，下面的 SCRIPT 标签写在了 BODY 后面，浏览器渲染后也会进行处理</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

//渲染后处理的结果
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="操作时机" tabindex="-1"><a class="header-anchor" href="#操作时机" aria-hidden="true">#</a> 操作时机</h2><p>需要保证浏览器已经渲染了内容才可以读取的节点对象,可以将脚本通过事件放在页面渲染完执行</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或使用定时器将脚本设置为异步执行</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以放在文档加载后的事件处理函数中</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或将脚本设置在外部文件并使用 defer 属性加载，defer 即会等到 DOM 解析后迟延执行</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="节点对象" tabindex="-1"><a class="header-anchor" href="#节点对象" aria-hidden="true">#</a> 节点对象</h2><p>JS 中操作 DOM 的内容称为节点对象（node)，即然是对象就包括操作 NODE 的属性和方法</p><ul><li>包括12中类型的节点对象</li><li>常用的节点为<code>document、标签元素节点、文本节点、注释节点</code></li><li>节点均继承自Node类型，所以拥有相同的属性或方法</li><li><code>document</code>是DOM操作的起始节点</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// document节点 noteType为9</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span>

<span class="token comment">// 第一个子节点为&lt;!DOCTYPE html&gt;，且nodeType为10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span>

<span class="token comment">// body 是标签节点 nodeType为1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span>

<span class="token comment">// body的属性节点 nodeType 为2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span>

<span class="token comment">// body的第一个节点为文本节点，nodeType为3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span>

<span class="token comment">// body的第二个节点为注释，nodeType类型为8</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="原型链" tabindex="-1"><a class="header-anchor" href="#原型链" aria-hidden="true">#</a> 原型链</h2><ul><li>不同类型节点由专有的构造函数创建对象</li><li>使用<code>console.dir</code>可以打印出<code>DOM</code>节点对象结构</li><li>节点也是对象所以也具有JS对象的特征</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">prototype</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
    el<span class="token punctuation">.</span>__proto__ <span class="token operator">?</span> <span class="token function">prototype</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
<span class="token function">prototype</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最终得到的节点的原型链为</p><table><thead><tr><th>原型</th><th>说明</th></tr></thead><tbody><tr><td>Object</td><td>根对象，提供<code>hasOwnPrototype</code>等基本对象操作支持</td></tr><tr><td>EventTarget</td><td>提供 <code>addEventListener</code>、<code>removeEventListener</code> 等事件支持方法</td></tr><tr><td>Node</td><td>提供 firstChild、parentNode 等节点操作方法</td></tr><tr><td>Element</td><td>提供 getElementsByTagName、querySelector 等方法</td></tr><tr><td>HTMLElement</td><td>所有元素的基础类，提供 childNodes、nodeType、nodeName、className、nodeName 等方法</td></tr><tr><td>HTMLHeadingElement</td><td>Head 标题元素类</td></tr></tbody></table><p>提取节点原型链的数组</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">prototype</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> prototypes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    prototypes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
    prototypes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>__proto__ <span class="token operator">?</span> <span class="token function">prototype</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> prototypes
<span class="token punctuation">}</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">prototype</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[HTMLHeadingElement, HTMLElement, Element, Node, EventTarget, {…}, null]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>为标题元素增加两个原型方法，改变颜色与隐藏元素</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> h2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;h2&#39;</span><span class="token punctuation">)</span>
<span class="token class-name">HTMLHeadingElement</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">HTMLHeadingElement</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">color</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> color
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="对象特征" tabindex="-1"><a class="header-anchor" href="#对象特征" aria-hidden="true">#</a> 对象特征</h2><p>即然 DOM 与我们其他 JS 创建的对象特征相仿，所以也可以为 DOM 对象添加属性或方法</p><p><strong>对于系统应用的属性，应该明确含义不应该随意使用，比如 ID 是用于标识元素唯一属性，不能用于其他目地</strong></p><ul><li>后面会讲到其他解决方案，来自定义属性，ID 属性可以直接修改但是不建议这么做</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&#39;react&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>title 用于显示提示文档也不应该用于其他目地</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&#39;react&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对象合并属性的示例</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>

Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">//设置标签内容</span>
    <span class="token literal-property property">innerHTML</span><span class="token operator">:</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span>
    <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&#39;王五&#39;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onclick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用对象特性更改样式属性</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>style<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;white&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="常用节点" tabindex="-1"><a class="header-anchor" href="#常用节点" aria-hidden="true">#</a> 常用节点</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>document</td><td>document是DOM操作的起始节点</td></tr><tr><td>document.documentElement</td><td>文档节点即html标签节点</td></tr><tr><td>document.body</td><td>body 标签节点</td></tr><tr><td>document.head</td><td>head 标签节点</td></tr><tr><td>document.links</td><td>超链接集合</td></tr><tr><td>document.anchors</td><td>所有锚点集合</td></tr><tr><td>document.forms</td><td>form 表单集合</td></tr><tr><td>document.images</td><td>图片集合</td></tr></tbody></table><h3 id="document" tabindex="-1"><a class="header-anchor" href="#document" aria-hidden="true">#</a> DOCUMENT</h3><p>document是window对象的属性，是由HTMLDocument类实现的实例</p><ul><li>document包含DocumentType（唯一）或html（元素）或comment等元素</li></ul><p>原型链中也包含Node，所以可以使用有关节点的方法如nodeType / NodeName等</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span><span class="token comment">//9</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token comment">//#document</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 title 获取和设置文档标题</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//获取文档标题</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
<span class="token comment">//设置文档标签</span>
document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&#39;DOM&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>获取当前 URL</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>获取域名</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span>domain
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>获取来源地址</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>referrer<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><em>系统针对特定标签提供了快速选择的方式</em></p><h3 id="id" tabindex="-1"><a class="header-anchor" href="#id" aria-hidden="true">#</a> ID</h3><p>直接使用 ID 获取元素（这是非标准操作，对浏览器有挑剔）</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token comment">//直接通过 ID 获取元素（非标准操作）</span>
  console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="links" tabindex="-1"><a class="header-anchor" href="#links" aria-hidden="true">#</a> links</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> nodes <span class="token operator">=</span> document<span class="token punctuation">.</span>links
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="anchors" tabindex="-1"><a class="header-anchor" href="#anchors" aria-hidden="true">#</a> anchors</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 通过锚点获取元素</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>anchors<span class="token punctuation">.</span>n2<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="images" tabindex="-1"><a class="header-anchor" href="#images" aria-hidden="true">#</a> images</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>images<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="节点属性" tabindex="-1"><a class="header-anchor" href="#节点属性" aria-hidden="true">#</a> 节点属性</h2><p>不同类型的节点拥有不同属性</p><h3 id="nodetype" tabindex="-1"><a class="header-anchor" href="#nodetype" aria-hidden="true">#</a> nodeType</h3><p>nodeType 指以数值返回节点类型</p><table><thead><tr><th>nodeType</th><th>说明</th></tr></thead><tbody><tr><td>1</td><td>元素节点</td></tr><tr><td>2</td><td>属性节点</td></tr><tr><td>3</td><td>文本节点</td></tr><tr><td>8</td><td>注释节点</td></tr><tr><td>9</td><td>document对象</td></tr></tbody></table><h3 id="prototype" tabindex="-1"><a class="header-anchor" href="#prototype" aria-hidden="true">#</a> Prototype</h3><ul><li>section 、main、aslide 标签的原型对象为 HTMLElement</li><li>其他非系统标签的原型对象为 HTMLUnknownElement</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> h1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;h1&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;p&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h1 <span class="token keyword">instanceof</span> <span class="token class-name">HTMLHeadingElement</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p <span class="token keyword">instanceof</span> <span class="token class-name">HTMLHeadingElement</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p <span class="token keyword">instanceof</span> <span class="token class-name">HTMLParagraphElement</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p <span class="token keyword">instanceof</span> <span class="token class-name">Element</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过构建函数获取节点的示例</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- app --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">all</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> prototype</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>childNodes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">node</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token keyword">instanceof</span> <span class="token class-name">prototype</span><span class="token punctuation">)</span> nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>nodeType <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token function">all</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> prototype<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> nodes
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">all</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> HTMLSpanElement<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="nodename" tabindex="-1"><a class="header-anchor" href="#nodename" aria-hidden="true">#</a> nodeName</h3><p><strong>nodeName 指定节点的名称</strong></p><ul><li>获取值为大写形式</li></ul><table><thead><tr><th>nodeType</th><th>nodeName</th></tr></thead><tbody><tr><td>1</td><td>元素名称如 DIV</td></tr><tr><td>2</td><td>属性名称</td></tr><tr><td>3</td><td>#text</td></tr><tr><td>8</td><td>#comment</td></tr></tbody></table><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empty<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- 向军大叔 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span> 张三<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">const</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#app</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;span&#39;</span><span class="token punctuation">)</span>
  <span class="token comment">// 标签节点为大写的标签名DIV</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token comment">//DIV</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>span<span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token comment">//SPAN</span>
  <span class="token comment">// 文本节点为 #text</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span>
  <span class="token comment">//属性节点为属性名</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>attributes<span class="token punctuation">.</span>id<span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token comment">//id</span>
  <span class="token comment">// 注释节点为#comment</span>
  <span class="token keyword">const</span> empty <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;.empty&#39;</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>empty<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token comment">//#comment</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tagname" tabindex="-1"><a class="header-anchor" href="#tagname" aria-hidden="true">#</a> tagName</h3><p>nodeName 可以获取不限于元素的节点名，tagName <strong>仅能用于获取标签节点的名称</strong></p><ul><li>tagName 存在于 Element 类的原型中</li><li>文本、注释节点值为 undefined</li><li>获取的值为大写的标签名</li></ul><h3 id="nodevalue" tabindex="-1"><a class="header-anchor" href="#nodevalue" aria-hidden="true">#</a> nodeValue</h3><p>使用 nodeValue 或 data 函数获取节点值，也可以使用节点的 data 属性获取节点内容</p><table><thead><tr><th>nodeType</th><th>nodeValue</th></tr></thead><tbody><tr><td>1</td><td>null</td></tr><tr><td>2</td><td>属性值</td></tr><tr><td>3</td><td>文本内容</td></tr><tr><td>8</td><td>注释内容</td></tr></tbody></table><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- notes --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">const</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#app</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token comment">//标签的 nodeValue 值为 null</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span>
  <span class="token comment">//属性的 nodeVale 值为属性值</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>attributes<span class="token punctuation">.</span>id<span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span><span class="token comment">//app</span>
  <span class="token comment">//文本的 nodeValue 值为文本内容</span>
  <span class="token keyword">const</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;.text&#39;</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span><span class="token comment">//text</span>
  <span class="token comment">//注释的 nodeValue 值为注释内容</span>
  <span class="token keyword">const</span> notes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;.notes&#39;</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>notes<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span><span class="token comment">//notes</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 data 属性可以获取文本与注释内容</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
  张三
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 李四 注释内容<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token comment">// 张三</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token comment">//李四 注释内容</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="树状节点" tabindex="-1"><a class="header-anchor" href="#树状节点" aria-hidden="true">#</a> 树状节点</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">function</span> <span class="token function">tree</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>childNodes<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">node</span> <span class="token operator">=&gt;</span>node<span class="token punctuation">.</span>tagName<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">node</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> node<span class="token punctuation">.</span>nodeName<span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token function">tree</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tree</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//结果            </span>
<span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token number">0</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;HEAD&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;BODY&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span>            
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="节点集合" tabindex="-1"><a class="header-anchor" href="#节点集合" aria-hidden="true">#</a> 节点集合</h2><p>Nodelist 与 HTMLCollection 都是包含多个节点标签的集合，大部分功能也是相同的</p><ul><li>getElementsBy...等方法返回的是 HTMLCollection</li><li>querySelectorAll 返回的是 NodeList</li><li>NodeList 节点列表是动态的，即内容添加后会动态更新</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//结果为NodeList</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//NodeList(2)[div, div]</span>
<span class="token comment">//结果为HTMLCollection</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//HTMLCollection(2)[div, div]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="length" tabindex="-1"><a class="header-anchor" href="#length" aria-hidden="true">#</a> length</h3><p>Nodelist 与 HTMLCollection 包含 length 属性，记录了节点元素的数量</p><h3 id="item" tabindex="-1"><a class="header-anchor" href="#item" aria-hidden="true">#</a> item</h3><p>Nodelist 与 HTMLCollection 提供了 item()方法来根据索引获取元素</p><h3 id="nameditem" tabindex="-1"><a class="header-anchor" href="#nameditem" aria-hidden="true">#</a> namedItem</h3><p>HTMLCollection 具有 namedItem 方法可以按 name 或 id 属性来获取元素</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> nodes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>nodes<span class="token punctuation">.</span><span class="token function">namedItem</span><span class="token punctuation">(</span><span class="token string">&#39;zs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>nodes<span class="token punctuation">.</span><span class="token function">namedItem</span><span class="token punctuation">(</span><span class="token string">&#39;ls&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以使用数组或属性方式获取</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> nodes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>nodes<span class="token punctuation">[</span><span class="token string">&#39;zs&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>nodes<span class="token punctuation">.</span>ls<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>数字索引时使用 item 方法，字符串索引时使用 namedItem 或 items 方法</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>h1 id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>app<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h1 name<span class="token operator">=</span><span class="token string">&quot;zs&quot;</span><span class="token operator">&gt;</span>张三<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token keyword">let</span> items <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;h1&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token string">&#39;zs&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="动态与静态" tabindex="-1"><a class="header-anchor" href="#动态与静态" aria-hidden="true">#</a> 动态与静态</h2><p>通过 getElementsByTagname 等 getElementsBy... 函数获取的 Nodelist 与 HTMLCollection 集合是动态的，即有元素添加或移动操作将实时反映最新状态</p><ul><li>使用 getElement...返回的都是动态的集合</li><li>使用 querySelectorAll 返回的是静态集合</li></ul><h3 id="使用静态" tabindex="-1"><a class="header-anchor" href="#使用静态" aria-hidden="true">#</a> 使用静态</h3><p>如果需要保存静态集合，则需要对集合进行复制</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> nodes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> clone <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nodes<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nodes<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>clone<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="遍历节点" tabindex="-1"><a class="header-anchor" href="#遍历节点" aria-hidden="true">#</a> 遍历节点</h2><h3 id="forof" tabindex="-1"><a class="header-anchor" href="#forof" aria-hidden="true">#</a> forOf</h3><p>Nodelist 与 HTMLCollection 是类数组的可迭代对象所以可以使用 for...of 进行遍历</p><h3 id="foreach" tabindex="-1"><a class="header-anchor" href="#foreach" aria-hidden="true">#</a> forEach</h3><p>Nodelist 节点列表也可以使用 forEach 来进行遍历，<strong>但 HTMLCollection 则不可以</strong></p><h3 id="call-apply" tabindex="-1"><a class="header-anchor" href="#call-apply" aria-hidden="true">#</a> call/apply</h3><p>节点集合对象原型中不存在 map 方法，但可以借用 Array 的原型 map 方法实现遍历</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> nodes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>nodes<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>nodes<span class="token punctuation">,</span> <span class="token parameter">node</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="array-from" tabindex="-1"><a class="header-anchor" href="#array-from" aria-hidden="true">#</a> Array.from</h3><p>Array.from 用于将类数组转为数组，并提供第二个迭代函数。所以可以借用 Array.from 实现遍历</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> nodes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>nodes<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="展开语法" tabindex="-1"><a class="header-anchor" href="#展开语法" aria-hidden="true">#</a> 展开语法</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;h1&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>elements<span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token operator">...</span>elements<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  item<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>textTransform <span class="token operator">=</span> <span class="token string">&#39;uppercase&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="节点关系" tabindex="-1"><a class="header-anchor" href="#节点关系" aria-hidden="true">#</a> 节点关系</h2><p>节点是父子级嵌套与前后兄弟关系，使用 DOM 提供的 API 可以获取这种关系的元素</p><ul><li>文本和注释也是节点，所以也在匹配结果中</li></ul><h3 id="基础知识" tabindex="-1"><a class="header-anchor" href="#基础知识" aria-hidden="true">#</a> 基础知识</h3><p>节点是根据 HTML 内容产生的，所以也存在父子、兄弟、祖先、后代等节点关系</p><ul><li>h1 与 ul 是兄弟关系</li><li>span 与 li 是父子关系</li><li>ul 与 span 是后代关系</li><li>span 与 ul 是祖先关系</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>节点属性</th><th>说明</th></tr></thead><tbody><tr><td>childNode</td><td>获取所有子节点</td></tr><tr><td>parentNode</td><td>获取父节点</td></tr><tr><td>firstChild</td><td>第一个子节点</td></tr><tr><td>lastChild</td><td>最后一个子节点</td></tr><tr><td>nextSibling</td><td>下一个兄弟节点</td></tr><tr><td>previousSibling</td><td>上一个兄弟节点</td></tr></tbody></table><p>子节点集合与首、尾节点获取</p><ul><li>文本也是 node 所以也会在匹配当中</li><li>document 是顶级节点 html 标签的父节点是 document</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>parentNode <span class="token operator">===</span> document<span class="token punctuation">)</span><span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="父节点集合" tabindex="-1"><a class="header-anchor" href="#父节点集合" aria-hidden="true">#</a> 父节点集合</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">parentNodes</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>node <span class="token operator">=</span> node<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">)</span> nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token keyword">return</span> nodes
<span class="token punctuation">}</span>
<span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> nodes <span class="token operator">=</span> <span class="token function">parentNodes</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用递归获取所有父级节点</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;span&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">parentNodes</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> nodes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span> nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token function">parentNodes</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> nodes
<span class="token punctuation">}</span>
<span class="token keyword">const</span> nodes <span class="token operator">=</span> <span class="token function">parentNodes</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;span&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="后代节点集合" tabindex="-1"><a class="header-anchor" href="#后代节点集合" aria-hidden="true">#</a> 后代节点集合</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getChildNodeByName</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">node</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>tagName <span class="token operator">===</span> name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> items<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    items<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token function">getChildNodeByName</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> items
<span class="token punctuation">}</span>
<span class="token keyword">const</span> nodes <span class="token operator">=</span> <span class="token function">getChildNodeByName</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> <span class="token string">&#39;span&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="标签关系" tabindex="-1"><a class="header-anchor" href="#标签关系" aria-hidden="true">#</a> 标签关系</h2><p>使用 childNodes 等获取的节点包括文本与注释，但这不是我们常用的，为此系统也提供了只操作元素的关系方法</p><h3 id="基础知识-1" tabindex="-1"><a class="header-anchor" href="#基础知识-1" aria-hidden="true">#</a> 基础知识</h3><table><thead><tr><th>节点属性</th><th>说明</th></tr></thead><tbody><tr><td>parentElement</td><td>获取父元素</td></tr><tr><td>children</td><td>获取所有子元素</td></tr><tr><td>childElementCount</td><td>子标签元素的数量</td></tr><tr><td>firstElementChild</td><td>第一个子标签</td></tr><tr><td>lastElementChild</td><td>最后一个子标签</td></tr><tr><td>previousElementSibling</td><td>上一个兄弟标签</td></tr><tr><td>nextElementSibling</td><td>下一个兄弟标签</td></tr><tr><td>contains</td><td>返回布尔值，判断传入的节点是否为该节点的后代节点</td></tr></tbody></table><p>html 标签的父节点是 document，但父标签节点不存在</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>parentNode <span class="token operator">===</span> document<span class="token punctuation">)</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>parentElement<span class="token punctuation">)</span> <span class="token comment">//null</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="按类名获取标签" tabindex="-1"><a class="header-anchor" href="#按类名获取标签" aria-hidden="true">#</a> 按类名获取标签</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getTagByClassName</span><span class="token punctuation">(</span><span class="token parameter">className<span class="token punctuation">,</span> tag <span class="token operator">=</span> document</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>tag<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>className<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">)</span> items<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
    items<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token function">getTagByClassName</span><span class="token punctuation">(</span>className<span class="token punctuation">,</span> el<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> items
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getTagByClassName</span><span class="token punctuation">(</span><span class="token string">&#39;class&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="标签获取" tabindex="-1"><a class="header-anchor" href="#标签获取" aria-hidden="true">#</a> 标签获取</h2><h3 id="getelementbyid" tabindex="-1"><a class="header-anchor" href="#getelementbyid" aria-hidden="true">#</a> getElementById</h3><p>使用 ID 选择是非常方便的选择具有 ID 值的节点元素，但注意 ID 应该是唯一的</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="getelementsbyname" tabindex="-1"><a class="header-anchor" href="#getelementsbyname" aria-hidden="true">#</a> getElementsByName</h3><p>使用 getElementByName 获取设置了 name 属性的元素，虽然在 DIV 等元素上同样有效，但一般用来对表单元素进行操作时使用</p><ul><li>返回 NodeList 节点列表对象</li><li>NodeList 顺序为元素在文档中的顺序</li><li>需要在 document 对象上使用</li></ul><h3 id="getelementsbytagname" tabindex="-1"><a class="header-anchor" href="#getelementsbytagname" aria-hidden="true">#</a> getElementsByTagName</h3><p>使用 getElementsByTagName 用于按标签名获取元素</p><ul><li>返回 HTMLCollection 节点列表对象</li><li>是不区分大小的获取</li></ul><p><strong>通配符</strong></p><p>可以使用通配符 ***** 获取所有元素</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> nodes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="getelementsbyclassname" tabindex="-1"><a class="header-anchor" href="#getelementsbyclassname" aria-hidden="true">#</a> getElementsByClassName</h3><p>getElementsByClassName 用于按 class 样式属性值获取元素集合</p><ul><li>设置多个值时顺序无关，指包含这些 class 属性的元素</li></ul><h2 id="样式选择器" tabindex="-1"><a class="header-anchor" href="#样式选择器" aria-hidden="true">#</a> 样式选择器</h2><h3 id="queryselectorall" tabindex="-1"><a class="header-anchor" href="#queryselectorall" aria-hidden="true">#</a> querySelectorAll</h3><p>使用 querySelectorAll 根据 CSS 选择器获取 Nodelist 节点列表</p><ul><li>获取的 NodeList 节点列表是静态的，添加或删除元素后不变</li></ul><h3 id="queryselector" tabindex="-1"><a class="header-anchor" href="#queryselector" aria-hidden="true">#</a> querySelector</h3><p>querySelector 使用 CSS 选择器获取一个元素</p><h3 id="matches" tabindex="-1"><a class="header-anchor" href="#matches" aria-hidden="true">#</a> matches</h3><p>用于检测元素是否是指定的样式选择器匹配</p><h3 id="closest" tabindex="-1"><a class="header-anchor" href="#closest" aria-hidden="true">#</a> closest</h3><p>查找最近的符合选择器的祖先元素（包括自身）</p><h2 id="标准属性" tabindex="-1"><a class="header-anchor" href="#标准属性" aria-hidden="true">#</a> 标准属性</h2><p>元素的标准属性具有相对应的 DOM 对象属性</p><ul><li>操作属性区分大小写</li><li>多个单词属性命名规则为第一个单词小写，其他单词大写</li><li>属性值是多类型并不全是字符串，也可能是对象等</li><li>事件处理程序属性值为函数</li><li>style 属性为 CSSStyleDeclaration 对象</li><li>DOM 对象不同生成的属性也不同</li></ul><h3 id="属性别名" tabindex="-1"><a class="header-anchor" href="#属性别名" aria-hidden="true">#</a> 属性别名</h3><table><thead><tr><th>属性</th><th>别名</th></tr></thead><tbody><tr><td>class</td><td>className</td></tr><tr><td>for</td><td>htmlFor</td></tr></tbody></table><h3 id="多类型" tabindex="-1"><a class="header-anchor" href="#多类型" aria-hidden="true">#</a> 多类型</h3><p>大部分属性值是都是字符串，但并不是全部</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
input<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">100</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>表单 checked 属性值为 Boolean 类型</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name=&#39;hot&#39;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
node<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>属性值并都与 HTML 定义的值一样，下面返回的 href 属性值是完整链接</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#home</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>href<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="元素特征" tabindex="-1"><a class="header-anchor" href="#元素特征" aria-hidden="true">#</a> 元素特征</h2><p>对于标准的属性可以使用 DOM 属性的方式进行操作，但对于标签的非标准的定制属性则不可以。但 JS 提供了方法来控制标准或非标准的属性</p><p>可以理解为元素的属性分两个地方保存，DOM 属性中记录标准属性，特征中记录标准和定制属性</p><ul><li>使用特征操作时属性名称不区分大小写</li><li>特征值都为字符串类型</li></ul><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>getAttribute</td><td>获取属性</td></tr><tr><td>setAttribute</td><td>设置属性</td></tr><tr><td>removeAttribute</td><td>删除属性</td></tr><tr><td>hasAttribute</td><td>属性检测</td></tr></tbody></table><h3 id="attributes" tabindex="-1"><a class="header-anchor" href="#attributes" aria-hidden="true">#</a> attributes</h3><p>元素提供了 attributes 属性可以只读的获取元素的属性</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;class&quot;</span> data<span class="token operator">-</span>name<span class="token operator">=</span><span class="token string">&quot;zs&quot;</span><span class="token operator">&gt;</span>张三<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span><span class="token string">&#39;class&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span> <span class="token comment">//class</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span><span class="token string">&#39;data-name&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span> <span class="token comment">//zs</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自定义特征" tabindex="-1"><a class="header-anchor" href="#自定义特征" aria-hidden="true">#</a> 自定义特征</h3><p>虽然可以随意定义特征并使用 getAttribute 等方法管理，但很容易造成与标签的现在或未来属性重名。建议使用以 data-为前缀的自定义特征处理，针对这种定义方式 JS 也提供了接口方便操作</p><ul><li>元素中以 data-为前缀的属性会添加到属性集中</li><li>使用元素的 dataset 可获取属性集中的属性</li><li>改变 dataset 的值也会影响到元素上</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;class&quot;</span> data<span class="token operator">-</span>name<span class="token operator">=</span><span class="token string">&quot;zs&quot;</span> data<span class="token operator">-</span>color<span class="token operator">=</span><span class="token string">&quot;red&quot;</span><span class="token operator">&gt;</span>张三<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">//zs</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token comment">//red</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>多个单词的特征使用驼峰命名方式读取</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;class&quot;</span> data<span class="token operator">-</span>title<span class="token operator">-</span>color<span class="token operator">=</span><span class="token string">&quot;red&quot;</span> data<span class="token operator">-</span>name<span class="token operator">=</span><span class="token string">&quot;zs&quot;</span> <span class="token operator">&gt;</span>张三<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>titleColor<span class="token punctuation">)</span> <span class="token comment">//red</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="属性同步" tabindex="-1"><a class="header-anchor" href="#属性同步" aria-hidden="true">#</a> 属性同步</h3><p>特征和属性是记录元素属性的两个不同场所，大部分更改会进行同步操作</p><p>更改了 className，会自动同步到了特征集中，反之亦然</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&#39;ls&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;class&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//ls</span>
app<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;class&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>className<span class="token punctuation">)</span> <span class="token comment">//blue</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对 input 值使用属性设置，但并没有同步到特征</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;package&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;李四&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> <span class="token keyword">package</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name=&#39;package&#39;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token keyword">package</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;value&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//李四</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>但改变 input 的特征 value 会同步到 DOM 对象属性</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;package&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;李四&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> <span class="token keyword">package</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name=&#39;package&#39;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token keyword">package</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;value&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">package</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">//张三</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建节点" tabindex="-1"><a class="header-anchor" href="#创建节点" aria-hidden="true">#</a> 创建节点</h2><p>创建节点的就是构建出 DOM 对象，然后根据需要添加到其他节点中</p><h3 id="append" tabindex="-1"><a class="header-anchor" href="#append" aria-hidden="true">#</a> append</h3><p>append 也是用于添加元素，同时他也可以直接添加文本等内容</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="createtextnode" tabindex="-1"><a class="header-anchor" href="#createtextnode" aria-hidden="true">#</a> createTextNode</h3><p>创建文本对象并添加到元素中</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="createelement" tabindex="-1"><a class="header-anchor" href="#createelement" aria-hidden="true">#</a> createElement</h3><p>使用 createElement 方法可以标签节点对象</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;span&#39;</span><span class="token punctuation">)</span>
span<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&#39;houdunren&#39;</span>
app<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 PROMISE 结合节点操作来加载外部 JAVASCRIPT 文件</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">js</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> js <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">)</span>
    js<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;text/javascript&#39;</span>
    js<span class="token punctuation">.</span>src <span class="token operator">=</span> file
    js<span class="token punctuation">.</span>onload <span class="token operator">=</span> resolve
    js<span class="token punctuation">.</span>onerror <span class="token operator">=</span> reject
    document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>js<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">js</span><span class="token punctuation">(</span><span class="token string">&#39;1.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;加载成功&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token punctuation">.</span>target<span class="token punctuation">.</span>src<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 加载失败</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用同样的逻辑来实现加载 CSS 文件</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">css</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> css <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">)</span>
    css<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">&#39;stylesheet&#39;</span>
    css<span class="token punctuation">.</span>href <span class="token operator">=</span> file
    css<span class="token punctuation">.</span>onload <span class="token operator">=</span> resolve
    css<span class="token punctuation">.</span>onerror <span class="token operator">=</span> reject
    document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>css<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&#39;1.css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;加载成功&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="clonenode-importnode" tabindex="-1"><a class="header-anchor" href="#clonenode-importnode" aria-hidden="true">#</a> cloneNode&amp;importNode</h3><p><strong>使用 cloneNode 和 document.importNode 用于复制节点对象操作</strong></p><ul><li>cloneNode 是节点方法</li><li>cloneNode 参数为 true 时递归复制子节点即深拷贝</li><li>importNode 是 documet 对象方法</li></ul><p><strong>document.importNode 方法是部分 IE 浏览器不支持的，也是复制节点对象的方法</strong></p><ul><li>第一个参数为节点对象</li><li>第二个参数为 true 时递归复制</li></ul><h2 id="节点内容" tabindex="-1"><a class="header-anchor" href="#节点内容" aria-hidden="true">#</a> 节点内容</h2><h3 id="innerhtml" tabindex="-1"><a class="header-anchor" href="#innerhtml" aria-hidden="true">#</a> innerHTML</h3><p>inneHTML 用于向标签中添加 html 内容，同时触发浏览器的解析器重绘 DOM</p><p>nnerHTML 中只解析 HTML 标签语法，所以其中的 script 不会做为 JS 处理</p><p><strong>重绘节点</strong></p><p>使用 innertHTML 操作会重绘元素，下面在点击第二次就没有效果了</p><ul><li>因为对#app 内容进行了重绘，即删除原内容然后设置新内容</li><li>重绘后产生的 button 对象没有事件</li><li>重绘后又产生了新 img 对象，所以在控制台中可看到新图片在加载</li></ul><h3 id="outerhtml" tabindex="-1"><a class="header-anchor" href="#outerhtml" aria-hidden="true">#</a> outerHTML</h3><p>outerHTML 与 innerHTML 的区别是包含父标签</p><ul><li>outerHTML 不会删除原来的旧元素</li><li>只是用新内容替换替换旧内容，旧内容（元素）依然存在</li></ul><h3 id="textcontent-与-innertext" tabindex="-1"><a class="header-anchor" href="#textcontent-与-innertext" aria-hidden="true">#</a> textContent 与 innerText</h3><p>textContent 与 innerText 是访问或添加文本内容到元素中</p><ul><li>textContentb 部分 IE 浏览器版本不支持</li><li>innerText 部分 FireFox 浏览器版本不支持</li><li>获取时忽略所有标签,只获取文本内容</li><li>设置时将内容中的标签当文本对待不进行标签解</li></ul><h3 id="outertext" tabindex="-1"><a class="header-anchor" href="#outertext" aria-hidden="true">#</a> outerText</h3><p>与 innerText 差别是会影响所操作的标签</p><h3 id="insertadjacenttext" tabindex="-1"><a class="header-anchor" href="#insertadjacenttext" aria-hidden="true">#</a> insertAdjacentText</h3><p>将文本插入到元素指定位置，不会对文本中的标签进行解析，包括以下位置</p><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>beforebegin</td><td>元素本身前面</td></tr><tr><td>afterend</td><td>元素本身后面</td></tr><tr><td>afterbegin</td><td>元素内部前面</td></tr><tr><td>beforeend</td><td>元素内部后面</td></tr></tbody></table><h2 id="节点管理" tabindex="-1"><a class="header-anchor" href="#节点管理" aria-hidden="true">#</a> 节点管理</h2><h3 id="推荐方法" tabindex="-1"><a class="header-anchor" href="#推荐方法" aria-hidden="true">#</a> 推荐方法</h3><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>append</td><td>节点尾部添加新节点或字符串</td></tr><tr><td>prepend</td><td>节点开始添加新节点或字符串</td></tr><tr><td>before</td><td>节点前面添加新节点或字符串</td></tr><tr><td>after</td><td>节点后面添加新节点或字符串</td></tr><tr><td>replaceWith</td><td>将节点替换为新节点或字符串</td></tr></tbody></table><h3 id="insertadjacenthtml" tabindex="-1"><a class="header-anchor" href="#insertadjacenthtml" aria-hidden="true">#</a> insertAdjacentHTML</h3><p>将 html 文本插入到元素指定位置，浏览器会对文本进行标签解析，包括以下位置</p><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>beforebegin</td><td>元素本身前面</td></tr><tr><td>afterend</td><td>元素本身后面</td></tr><tr><td>afterbegin</td><td>元素内部前面</td></tr><tr><td>beforeend</td><td>元素内部后面</td></tr></tbody></table><h3 id="insertadjacentelement" tabindex="-1"><a class="header-anchor" href="#insertadjacentelement" aria-hidden="true">#</a> insertAdjacentElement</h3><p>insertAdjacentElement() 方法将指定元素插入到元素的指定位置，包括以下位置</p><ul><li>第一个参数是位置</li><li>第二个参数为新元素节点</li></ul><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>beforebegin</td><td>元素本身前面</td></tr><tr><td>afterend</td><td>元素本身后面</td></tr><tr><td>afterbegin</td><td>元素内部前面</td></tr><tr><td>beforeend</td><td>元素内部后面</td></tr></tbody></table><h3 id="古老方法" tabindex="-1"><a class="header-anchor" href="#古老方法" aria-hidden="true">#</a> 古老方法</h3><p>下面列表过去使用的操作节点的方法，现在不建议使用了。但在阅读老代码时可来此查看语法</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>appendChild</td><td>添加节点</td></tr><tr><td>insertBefore</td><td>用于插入元素到另一个元素的前面</td></tr><tr><td>removeChild</td><td>删除节点</td></tr><tr><td>replaceChild</td><td>进行节点的替换操作</td></tr></tbody></table><h3 id="documentfragment" tabindex="-1"><a class="header-anchor" href="#documentfragment" aria-hidden="true">#</a> DocumentFragment</h3><p>当对节点进行添加、删除等操作时，都会引起页面回流来重新渲染页面,即重新渲染颜色，尺寸，大小、位置等等。所以会带来对性能的影响</p><p><strong>解决以上问题可以使用以下几种方式</strong></p><ol><li>可以将 DOM 写成 html 字符串，然后使用 innerHTML 添加到页面中，但这种操作会比较麻烦，且不方便使用节点操作的相关方法。</li><li>使用 createDocumentFragment 来管理节点时，此时节点都在内存中，而不是 DOM 树中。对节点的操作不会引发页面回流,带来比较好的性能体验。</li></ol><p><strong>DocumentFragment 特点</strong></p><ul><li>createDocumentFragment 父节点为 null</li><li>继承自 node 所以可以使用 NODE 的属性和方法</li><li>createDocumentFragment 创建的是文档碎片，节点类型 nodeType 为 11。因为不在 DOM 树中所以只能通过 JS 进行操作</li><li>添加 createDocumentFragment 添加到 DOM 后,就不可以再操作 createDocumentFragment 元素了,这与 DOM 操作是不同的</li><li>将文档 DOM 添加到 createDocumentFragment 时,会移除文档中的 DOM 元素</li><li>createDocumentFragment 创建的节点添加到其他节点上时，会将子节点一并添加</li><li>createDocumentFragment 是虚拟节点对象，不直接操作 DOM 所以性能更好</li><li>在排序/移动等大量 DOM 操作时建议使用 createDocumentFragment</li></ul><h2 id="表单控制" tabindex="-1"><a class="header-anchor" href="#表单控制" aria-hidden="true">#</a> 表单控制</h2><p>表单是高频操作的元素，下面来掌握表单项的 DOM 操作</p><h3 id="表单查找" tabindex="-1"><a class="header-anchor" href="#表单查找" aria-hidden="true">#</a> 表单查找</h3><p>JS 为表单的操作提供了单独的集合控制</p><ul><li>使用 document.forms 获取表单集合</li><li>使用 form 的 name 属性获取指定 form 元素</li><li>根据表单项的 name 属性使用 form.elements.title 获取表单项，</li><li>也可以直接写成 form.name 形式，不需要 form.elements.title</li><li>针对 radio/checkbox 获取的表单项是一个集合</li></ul><h2 id="样式管理" tabindex="-1"><a class="header-anchor" href="#样式管理" aria-hidden="true">#</a> 样式管理</h2><p>通过 DOM 修改样式可以通过更改元素的 class 属性或通过 style 对象设置行样式来完成</p><ul><li>建议使用 class 控制样式，将任务交给 CSS 处理，更简单高效</li></ul><h3 id="批量设置" tabindex="-1"><a class="header-anchor" href="#批量设置" aria-hidden="true">#</a> 批量设置</h3><p>使用 JS 的 className 可以批量设置样式</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&#39;class&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以通过特征的方式来更改</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;class&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;class1&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="classlist" tabindex="-1"><a class="header-anchor" href="#classlist" aria-hidden="true">#</a> classList</h3><p>如果对类单独进行控制使用 classList 属性操作</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>node.classList.add</td><td>添加类名</td></tr><tr><td>node.classList.remove</td><td>删除类名</td></tr><tr><td>node.classList.toggle</td><td>切换类名</td></tr><tr><td>node.classList.contains</td><td>类名检测</td></tr></tbody></table><h3 id="设置行样式" tabindex="-1"><a class="header-anchor" href="#设置行样式" aria-hidden="true">#</a> 设置行样式</h3><p>使用 style 对象可以对样式属性单独设置，使用 cssText 可以批量设置行样式</p><p><strong>样式属性设置</strong></p><p>使用节点的 style 对象来设置行样式</p><ul><li>多个单词的属性使用驼峰进行命名</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&#39;red&#39;</span>
app<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&#39;yellow&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>批量设置行样式</strong></p><p>使用 cssText 属性可以批量设置行样式，属性名和写 CSS 一样不需要考虑驼峰命名</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">background-color:red;color:yellow</span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以通过 setAttribute 改变 style 特征来批量设置样式</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;style&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">background-color:red;color:yellow;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="获取样式" tabindex="-1"><a class="header-anchor" href="#获取样式" aria-hidden="true">#</a> 获取样式</h3><p><strong>可以通过 style 对象，window.window.getComputedStyle 对象获取样式属性</strong></p><p><strong>style</strong></p><p>可以使用 DOM 对象的 style 属性读取行样式</p><ul><li>style 对象不能获取行样式外定义的样式</li></ul><p><strong>getComputedStyle</strong></p><p>使用 window.getComputedStyle 可获取所有应用在元素上的样式属性</p><ul><li>函数第一个参数为元素</li><li>第二个参数为伪类</li><li>这是计算后的样式属性，所以取得的单位和定义时的可能会有不同</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> fontSize <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">.</span>fontSize
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1679864406@qq.com">healers丶loser</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/blog/guide/js/promiseCore.html" class="" aria-label="Promise核心"><!--[--><!--]--> Promise核心 <!--[--><!--]--></a></span><span class="next"><a href="/blog/guide/js/coordinate.html" class="" aria-label="空间坐标"><!--[--><!--]--> 空间坐标 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/blog/assets/app.b009acf6.js" defer></script>
  </body>
</html>
