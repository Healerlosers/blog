import{_ as n,o as s,c as a,a as t}from"./app.933ce5ef.js";const p={},e=t(`<h1 id="\u7A7A\u95F4\u5750\u6807" tabindex="-1"><a class="header-anchor" href="#\u7A7A\u95F4\u5750\u6807" aria-hidden="true">#</a> \u7A7A\u95F4\u5750\u6807</h1><h2 id="\u89C6\u53E3\u4E0E\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#\u89C6\u53E3\u4E0E\u6587\u6863" aria-hidden="true">#</a> \u89C6\u53E3\u4E0E\u6587\u6863</h2><p>\u9996\u5148\u7406\u89E3\u89C6\u53E3\uFF08\u7A97\u53E3\uFF09\u4E0E\u6587\u6863\u7684\u542B\u4E49</p><ul><li>\u7F51\u9875\u5F88\u591A\u90FD\u662F\u591A\u5C4F\uFF08\u901A\u8FC7\u6EDA\u52A8\u6761\u663E\u793A\u770B\u4E0D\u89C1\u7684\u5185\u5BB9\uFF09\uFF0C\u6240\u4EE5\u6587\u6863\u5C3A\u5BF8\u4E00\u822C\u5927\u4E8E\u89C6\u53E3\u5C3A\u5BF8</li><li>\u89C6\u53E3\u5C3A\u5BF8\u4E0D\u5305\u62EC\u6D4F\u89C8\u5668\u5DE5\u5177\u6761\u3001\u83DC\u5355\u3001\u6807\u7B7E\u3001\u72B6\u6001\u680F\u7B49</li><li>\u5F53\u4F60\u6253\u5F00\u63A7\u5236\u53F0\u540E\uFF0C\u89C6\u53E3\u5C3A\u5BF8\u5C31\u76F8\u5E94\u53D8\u5C0F\u4E86</li><li>position \u4F7F\u7528\u6587\u6863\u5B9A\u4F4D\uFF0Cfixed \u4F7F\u7528\u89C6\u53E3\u5B9A\u4F4D</li><li>\u6587\u6863\u5750\u6807\u5728\u9875\u9762\u6EDA\u52A8\u65F6\u4E0D\u53D1\u751F\u6539\u53D8</li><li>\u89C6\u53E3\u5750\u6807\u7684\u64CD\u4F5C\u9700\u8981\u8003\u8651\u6EDA\u52A8\u6761\u7684\u4F4D\u7F6E</li></ul><h3 id="\u89C6\u53E3\u4E0E\u6587\u6863\u5C3A\u5BF8" tabindex="-1"><a class="header-anchor" href="#\u89C6\u53E3\u4E0E\u6587\u6863\u5C3A\u5BF8" aria-hidden="true">#</a> \u89C6\u53E3\u4E0E\u6587\u6863\u5C3A\u5BF8</h3><p>\u89C6\u53E3\u5750\u6807\u9700\u8981\u77E5\u9053\u6EDA\u52A8\u6761\u4F4D\u7F6E\u624D\u53EF\u4EE5\u8FDB\u884C\u8BA1\u7B97\uFF0C\u6709\u4EE5\u4E0B\u51E0\u79CD\u65B9\u5F0F\u83B7\u53D6\u6EDA\u52A8\u4F4D\u7F6E</p><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>\u65B9\u6CD5</td><td>\u8BF4\u660E</td><td>\u6CE8\u610F</td></tr><tr><td>window.innerWidth</td><td>\u89C6\u53E3\u5BBD\u5EA6</td><td>\u5305\u62EC\u6EDA\u52A8\u6761\uFF08\u4E0D\u5E38\u7528\uFF09</td></tr><tr><td>window.innerHeight</td><td>\u89C6\u53E3\u9AD8\u5EA6</td><td>\u5305\u62EC\u6EDA\u52A8\u6761\uFF08\u4E0D\u5E38\u7528\uFF09</td></tr><tr><td>document.documentElement.clientWidth</td><td>\u89C6\u53E3\u5BBD\u5EA6</td><td></td></tr><tr><td>document.documentElement.clientHeight</td><td>\u89C6\u53E3\u9AD8\u5EA6</td><td></td></tr></tbody></table><h2 id="\u51E0\u4F55\u5C3A\u5BF8" tabindex="-1"><a class="header-anchor" href="#\u51E0\u4F55\u5C3A\u5BF8" aria-hidden="true">#</a> \u51E0\u4F55\u5C3A\u5BF8</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li>clientWidth(clientHeight)\uFF1A&quot;\u5185\u5BB9+\u5185\u8FB9\u8DDD&quot;</li><li>offserWidth(offsetHeight)\uFF1A&quot;\u5185\u5BB9+\u5185\u8FB9\u8DDD+\u8FB9\u6846&quot;</li><li>scrollWidth(scrollHeight)\uFF1A&quot;\u6EDA\u52A8\u5185\u5BB9\u7684\u5BBD\u5EA6\uFF08\u9AD8\u5EA6\uFF09&quot;</li></ul></div><h3 id="offset\u5BB6\u65CF" tabindex="-1"><a class="header-anchor" href="#offset\u5BB6\u65CF" aria-hidden="true">#</a> offSet\u5BB6\u65CF</h3><p><code>offsetWidth / offsetHeight</code>\u662F\u83B7\u53D6\u5BF9\u8C61\u81EA\u8EAB\u7684\u5BBD\u5EA6\u548C\u9AD8\u5EA6\uFF0C\u5305\u62EC\u5185\u5BB9\uFF0C\u8FB9\u6846\u548C\u5185\u8FB9\u6846 <code>offsetWidth = width + border + padding</code></p><p><code>offsetLeft / offsetTop</code>\u662F\u8DDD\u79BB\u7B2C\u4E00\u4E2A\u5B9A\u4F4D\u7684\u7236\u7EA7\u76D2\u5B50\u5DE6\u8FB9\u548C\u4E0A\u8FB9\u7684\u8DDD\u79BB\uFF08\u7236\u7EA7\u76D2\u5B50\u5FC5\u987B\u6709\u5B9A\u4F4D\uFF0C\u5982\u679C\u6CA1\u6709\u5219\u6700\u7EC8\u4EE5 body \u4E3A\u51C6\uFF09</p><p>\u603B\u7ED3\uFF1AoffsetLeft\u548CoffsetTop\uFF1A\u4ECE\u7236\u6807\u7B7E\u7684 padding\u5F00\u59CB\u8BA1\u7B97\uFF0C\u4E0D\u5305\u62ECborder,\u5373\uFF1A\u4ECE\u5B50\u76D2\u5B50\u7684\u8FB9\u6846\u5230\u5B9A\u4F4D\u7236\u76D2\u5B50\u8FB9\u6846\u7684\u8DDD\u79BB</p><p>offsetParent\uFF1A\u8FD4\u56DE\u5F53\u524D\u5BF9\u8C61\u7684\u7236\u7EA7\uFF08\u5E26\u6709\u5B9A\u4F4D\uFF09\u76D2\u5B50\uFF0C\u53EF\u80FD\u662F\u7236\u4EB2\uFF0C\u4E5F\u53EF\u80FD\u65F6\u7237\u7237</p><table><thead><tr><th>\u65B9\u6CD5</th><th>\u8BF4\u660E</th><th></th></tr></thead><tbody><tr><td>element.offsetWidth</td><td>\u5143\u7D20\u5BBD\u5EA6\u5C3A\u5BF8\uFF0C\u5305\u62EC\u5185\u8FB9\u8DDD\u4E0E\u8FB9\u6846\u548C\u6EDA\u52A8\u6761</td><td></td></tr><tr><td>element.offsetHeight</td><td>\u5143\u7D20\u9AD8\u5EA6\u5C3A\u5BF8\uFF0C\u5305\u62EC\u5185\u8FB9\u8DDD\u4E0E\u8FB9\u6846\u548C\u6EDA\u52A8\u6761</td><td></td></tr><tr><td>element.offsetLeft</td><td>\u76F8\u5BF9\u4E8E\u7956\u5148\u5143\u7D20\u7684 X \u8F74\u5750\u6807</td><td></td></tr><tr><td>element.offsetTop</td><td>\u76F8\u5BF9\u4E8E\u7956\u5148\u5143\u7D20\u7684 Y \u8F74\u5750\u6807</td><td></td></tr><tr><td>element.offsetParent</td><td>\u62E5\u6709\u5B9A\u4F4D\u5C5E\u6027\u7684\u7236\u7EA7\uFF0C\u6216 body/td/th/table</td><td></td></tr></tbody></table><h3 id="client\u5BB6\u65CF" tabindex="-1"><a class="header-anchor" href="#client\u5BB6\u65CF" aria-hidden="true">#</a> client\u5BB6\u65CF</h3><p><code>clientWidth / clientHeight</code>\u662F\u7F51\u9875\u53EF\u89C1\u533A\u57DF\u5BBD <code> document.body.clientWidth</code></p><p><code>clientLeft / clientTop</code>\u8FD4\u56DE\u7684\u662F\u5143\u7D20\u8FB9\u6846\u7684 <code>borderWidth</code></p><table><thead><tr><th><strong>\u65B9\u6CD5</strong></th><th><strong>\u8BF4\u660E</strong></th><th></th></tr></thead><tbody><tr><td>element.clientWidth</td><td>\u5143\u7D20\u5BBD\u5EA6\uFF0C\u4E0D\u5305\u542B\u8FB9\u6846\uFF0C\u53EA\u5305\u542B\u5185\u5BB9\u548C\u5185\u8FB9\u8DDD\uFF0C\u884C\u5143\u7D20\u5C3A\u5BF8\u4E3A 0</td><td></td></tr><tr><td>element.clientHeight</td><td>\u5143\u7D20\u9AD8\u5EA6\uFF0C\u4E0D\u5305\u542B\u8FB9\u6846\uFF0C\u53EA\u5305\u542B\u5185\u5BB9\u548C\u5185\u8FB9\u8DDD\uFF0C\u884C\u5143\u7D20\u5C3A\u5BF8\u4E3A 0</td><td></td></tr><tr><td>element.clientLeft</td><td>\u5185\u5BB9\u8DDD\u79BB\u5916\u90E8\u7684\u8DDD\u79BB\uFF0C\u6EDA\u52A8\u6761\u5728\u5DE6\u4FA7\u65F6\u5305\u62EC\u6EDA\u52A8\u6761\u5C3A\u5BF8</td><td></td></tr><tr><td>element.clientTop</td><td>\u5185\u5BB9\u8DDD\u79BB\u9876\u90E8\u7684\u8DDD\u79BB\uFF0C\u6EDA\u52A8\u6761\u5728\u9876\u90E8\u65F6\u5305\u62EC\u6EDA\u52A8\u6761\u5C3A\u5BF8</td><td></td></tr></tbody></table><h3 id="scroll\u5BB6\u65CF" tabindex="-1"><a class="header-anchor" href="#scroll\u5BB6\u65CF" aria-hidden="true">#</a> scroll\u5BB6\u65CF</h3><p>scrollLeft(scrollTop)\u5DE6\u8FB9\uFF08\u4E0A\u8FB9\uFF09\u6EDA\u52A8\u7684\u957F\u5EA6</p><table><thead><tr><th>\u65B9\u6CD5</th><th>\u8BF4\u660E</th><th></th></tr></thead><tbody><tr><td>element.scrollWidth</td><td>\u5143\u7D20\u5BBD\u5EA6\uFF0C\u5185\u5BB9+\u5185\u8FB9\u8DDD+\u5185\u5BB9\u6EA2\u51FA\u7684\u5C3A\u5BF8</td><td></td></tr><tr><td>element.scrollHeight</td><td>\u5143\u7D20\u9AD8\u5EA6\uFF0C\u5185\u5BB9+\u5185\u8FB9\u8DDD+\u5185\u5BB9\u6EA2\u51FA\u7684\u5C3A\u5BF8</td><td></td></tr><tr><td>element.scrollLeft</td><td>\u6C34\u5E73\u6EDA\u52A8\u6761\u5DE6\u4FA7\u5DF2\u7ECF\u6EDA\u52A8\u7684\u5BBD\u5EA6</td><td></td></tr><tr><td>element.scrollTop</td><td>\u5782\u76F4\u6EDA\u52A8\u6761\u9876\u90E8\u5DF2\u7ECF\u6EDA\u52A8\u7684\u9AD8\u5EA6</td><td></td></tr></tbody></table><h3 id="\u83B7\u53D6\u5C4F\u5E55\u53EF\u89C6\u533A\u57DF" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6\u5C4F\u5E55\u53EF\u89C6\u533A\u57DF" aria-hidden="true">#</a> \u83B7\u53D6\u5C4F\u5E55\u53EF\u89C6\u533A\u57DF</h3><ol><li>ie9\u53CA\u5176\u4EE5\u4E0A\u7684\u7248\u672C\u3001\u6700\u65B0\u6D4F\u89C8\u5668\uFF1Awindow.innerWidth, window.innerHeight</li><li>\u6807\u51C6\u6A21\u5F0F\u6D4F\u89C8\u5668\uFF1Adocument.documentElement.clientWidth, document.documentElement.clientHeight</li><li>\u602A\u5F02\u6A21\u5F0F\uFF1Adocument.body.clientWidth, document.body.clientHeight</li><li>\u5C01\u88C5\u5199\u6CD5</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">client</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// ie9\u53CA\u5176\u4EE5\u4E0A\u7684\u7248\u672C  </span>
        <span class="token keyword">return</span><span class="token punctuation">{</span>
            <span class="token literal-property property">width</span><span class="token operator">:</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span>  window<span class="token punctuation">.</span>innerHeight
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">!==</span> <span class="token string">&#39;CSS1Compat&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">// \u602A\u5F02\u6A21\u5F0F  </span>
        <span class="token keyword">return</span><span class="token punctuation">{</span>
            <span class="token literal-property property">width</span><span class="token operator">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth<span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u6807\u51C6    </span>
    <span class="token keyword">return</span><span class="token punctuation">{</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="getcomputedstyle" tabindex="-1"><a class="header-anchor" href="#getcomputedstyle" aria-hidden="true">#</a> getComputedStyle</h3><p>\u4E3A\u4EC0\u4E48\u6709\u65F6\u4E0D\u80FD\u4F7F\u7528 getComputedStyle</p><ul><li>\u5C3A\u5BF8\u8BBE\u7F6E auto \u65F6\u83B7\u53D6\u7ED3\u679C\u4E0D\u53EF\u7528</li><li>\u7531\u4E8E\u6EDA\u52A8\u6761\u7684\u5B58\u5728\uFF0C\u4E0D\u540C\u6D4F\u89C8\u5668\u8FD4\u56DE\u7ED3\u679C\u4E0D\u540C</li><li>\u5F53\u5143\u7D20\u6CA1\u6709\u8BBE\u7F6E CSS \u5C3A\u5BF8\u65F6\uFF0C\u83B7\u53D6\u4E0D\u5230\u76F8\u5E94\u7684\u5C3A\u5BF8\u5185\u5BB9</li></ul><h3 id="getboundingclientrect" tabindex="-1"><a class="header-anchor" href="#getboundingclientrect" aria-hidden="true">#</a> getBoundingClientRect</h3><p>\u4F7F\u7528 getBoundingClientRect \u83B7\u53D6\u5143\u7D20\u76F8\u5BF9\u4E8E\u6587\u6863\u7684\u51E0\u4F55\u5750\u6807\u4FE1\u606F</p><ul><li>\u5982\u679C\u662F\u6807\u51C6\u76D2\u5B50\u6A21\u578B\uFF0C\u5143\u7D20\u7684\u5C3A\u5BF8\u7B49\u4E8E<code>width/height</code> + <code>padding</code> + <code>border-width</code>\u7684\u603B\u548C</li><li>\u5982\u679C<code>box-sizing: border-box</code>\uFF0C\u5143\u7D20\u7684\u7684\u5C3A\u5BF8\u7B49\u4E8E <code>width/height</code></li></ul><h3 id="getclientrects" tabindex="-1"><a class="header-anchor" href="#getclientrects" aria-hidden="true">#</a> getClientRects</h3><p>getClientRects \u7528\u4E8E\u8FD4\u56DE\u591A\u884C\u5143\u7D20\u6240\u5360\u7684\u5C3A\u5BF8</p><h2 id="\u5750\u6807\u70B9\u5143\u7D20" tabindex="-1"><a class="header-anchor" href="#\u5750\u6807\u70B9\u5143\u7D20" aria-hidden="true">#</a> \u5750\u6807\u70B9\u5143\u7D20</h2><p>JS \u63D0\u4F9B\u4E86\u65B9\u6CD5\u83B7\u53D6\u6307\u5B9A\u5750\u6807\u4E0A\u7684\u5143\u7D20\uFF0C\u5982\u679C\u6307\u5B9A\u5750\u6807\u70B9\u5728\u89C6\u53E3\u5916\uFF0C\u8FD4\u56DE\u503C\u4E3A NULL</p><ul><li>\u5750\u6807\u90FD\u662F\u4ECE\u5DE6\u4E0A\u89D2\u8BA1\u7B97\uFF0C\u8FD9\u4E0E CSS \u4E2D\u7684 right/bottom \u7B49\u4E0D\u540C</li><li>\u7A97\u53E3\u5750\u6807\u7C7B\u4F3C\u4E8E position:fixed</li><li>\u6587\u6863\u5750\u6807\u7C7B\u4F3C\u4E8E position:absolute</li></ul><table><thead><tr><th>\u65B9\u6CD5</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>element.elementsFromPoint</td><td>\u8FD4\u56DE\u6307\u5B9A\u5750\u6807\u70B9\u6240\u5728\u7684\u5143\u7D20\u96C6\u5408</td></tr><tr><td>element.elementFromPoint</td><td>\u8FD4\u56DE\u6307\u5B9A\u5750\u6807\u70B9\u6700\u5E95\u5C42\u7684\u5143\u7D20</td></tr></tbody></table><h2 id="\u6EDA\u52A8\u63A7\u5236" tabindex="-1"><a class="header-anchor" href="#\u6EDA\u52A8\u63A7\u5236" aria-hidden="true">#</a> \u6EDA\u52A8\u63A7\u5236</h2><table><thead><tr><th>\u65B9\u6CD5</th><th>\u8BF4\u660E</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>element.scrollLeft</td><td>\u83B7\u53D6\u548C\u8BBE\u7F6E\u5143\u7D20 X \u8F74\u6EDA\u52A8\u4F4D\u7F6E</td><td></td></tr><tr><td>element.scrollTop</td><td>\u83B7\u53D6\u548C\u8BBE\u7F6E\u5143\u7D20 Y \u8F74\u6EDA\u52A8\u4F4D\u7F6E</td><td></td></tr><tr><td>element.scrollBy()</td><td>\u6309\u504F\u79FB\u91CF\u8FDB\u884C\u6EDA\u52A8\u5185\u5BB9</td><td>\u53C2\u6570\u4E3A\u5BF9\u8C61\uFF0C{top:\u5782\u76F4\u504F\u79FB\u91CF,left:\u6C34\u5E73\u504F\u79FB\u91CF,behavior:&#39;\u6EDA\u52A8\u65B9\u5F0F&#39;}</td></tr><tr><td>element.scroll() \u6216 element.scrollTo()</td><td>\u6EDA\u52A8\u5230\u6307\u5B9A\u7684\u5177\u4F53\u4F4D\u7F6E</td><td>\u53C2\u6570\u4E3A\u5BF9\u8C61\uFF0C{top:X \u8F74\u6587\u6863\u4F4D\u7F6E,left:Y \u8F74\u6587\u6863\u4F4D\u7F6E,behavior:&#39;\u6EDA\u52A8\u65B9\u5F0F&#39;}</td></tr><tr><td>element.scrollIntoView(bool)</td><td>\u5B9A\u4F4D\u5230\u9876\u90E8\u6216\u5E95\u90E8</td><td>\u53C2\u6570\u4E3A true \u5143\u7D20\u5B9A\u4F4D\u5230\u9876\u90E8\uFF0C\u4E3A false \u5B9A\u4F4D\u5230\u7A97\u53E3\u5E95\u90E8</td></tr></tbody></table><h3 id="\u6587\u6863\u6EDA\u52A8\u4F4D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u6587\u6863\u6EDA\u52A8\u4F4D\u7F6E" aria-hidden="true">#</a> \u6587\u6863\u6EDA\u52A8\u4F4D\u7F6E</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E5F\u53EF\u4EE5\u4F7F\u7528 window.pageXOffset \u5BF9\u8C61\u5C5E\u6027\u83B7\u53D6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>pageXOffset<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>pageYOffset<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5143\u7D20\u6EDA\u52A8\u4F4D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u5143\u7D20\u6EDA\u52A8\u4F4D\u7F6E" aria-hidden="true">#</a> \u5143\u7D20\u6EDA\u52A8\u4F4D\u7F6E</h3><p>\u67E5\u770B\u5143\u7D20\u5185\u5BB9\u7684\u6EDA\u52A8\u5C5E\u6027\uFF0C\u8BF7\u5728\u63A7\u5236\u53F0\u67E5\u770B\u7ED3\u679C</p><ul><li>\u8981\u4E3A\u5143\u7D20\u8BBE\u7F6E overflow:auto \u4EE5\u4F7F\u5176\u4EA7\u751F\u6EDA\u52A8\u6761</li><li>\u4F7F\u7528 scroll \u4E8B\u4EF6\u6765\u76D1\u542C\u7ED3\u679C</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;scroll&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>scrollLeft<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u63A7\u5236\u6EDA\u52A8" tabindex="-1"><a class="header-anchor" href="#\u63A7\u5236\u6EDA\u52A8" aria-hidden="true">#</a> \u63A7\u5236\u6EDA\u52A8</h3><h4 id="scrollby" tabindex="-1"><a class="header-anchor" href="#scrollby" aria-hidden="true">#</a> scrollBy</h4><p>\u4F7F\u7528 scrollBy \u6EDA\u52A8\u6587\u6863</p><ul><li>behavior:smooth \u4E3A\u5E73\u6ED1\u6EDA\u52A8</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">scrollBy</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">&#39;smooth&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="scroll" tabindex="-1"><a class="header-anchor" href="#scroll" aria-hidden="true">#</a> scroll</h4><p>\u4F7F\u7528 scroll \u6EDA\u52A8\u5230\u6307\u5B9A\u4F4D\u7F6E</p><ul><li>behavior:smooth \u4E3A\u5E73\u6ED1\u6EDA\u52A8</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">scroll</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">&#39;smooth&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="scrollintoview" tabindex="-1"><a class="header-anchor" href="#scrollintoview" aria-hidden="true">#</a> scrollIntoView</h4><p>\u4F7F\u7528\u5143\u7D20 scrollIntoView \u65B9\u6CD5\u5B9E\u73B0\u6EDA\u52A8\u64CD\u4F5C\uFF0C\u53C2\u6570\u53EF\u4EE5\u662F\u5E03\u5C14\u503C\u6216\u5BF9\u8C61</p><ul><li>\u53C2\u6570\u4E3A true \u65F6\u9876\u90E8\u5BF9\u9F50\uFF0C\u76F8\u5F53\u4E8E{block: &quot;start&quot;}</li><li>\u53C2\u6570\u4E3A false \u65F6\u5E95\u90E8\u5BF9\u9F50\uFF0C\u76F8\u5F53\u4E8E{block: &quot;end&quot;}</li><li>\u4E5F\u53EF\u5B9A\u4E49 {behavior:&#39;smooth&#39;} \u6765\u8FDB\u884C\u5E73\u6ED1\u6EDA\u52A8</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;span&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">block</span><span class="token operator">:</span> <span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">&#39;smooth&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u56DE\u5230\u9876\u90E8" tabindex="-1"><a class="header-anchor" href="#\u56DE\u5230\u9876\u90E8" aria-hidden="true">#</a> \u56DE\u5230\u9876\u90E8</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;scroll&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5224\u65AD\u662F\u5426\u8DDD\u79BB\u9875\u9762\u5E95\u90E8200px</span>
    <span class="token keyword">let</span> state <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> <span class="token number">200</span> <span class="token operator">&lt;</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">+</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight
    <span class="token comment">// \u6309\u94AE\u5143\u7D20</span>
    <span class="token keyword">const</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;span&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// \u6839\u636E\u6EDA\u52A8\u4F4D\u7F6E\u6DFB\u52A0\u6216\u79FB\u9664\u7C7B</span>
    span<span class="token punctuation">.</span>classList<span class="token punctuation">[</span>state <span class="token operator">?</span> <span class="token string">&#39;add&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;remove&#39;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">&#39;show&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u56DE\u5230\u9876\u90E8\u6309\u94AE\u4E8B\u4EF6</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#bt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5E73\u6ED1\u56DE\u6EDA\u5230\u9875\u9762\u9876\u90E8</span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">block</span><span class="token operator">:</span> <span class="token string">&#39;start&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">&#39;smooth&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u7F13\u52A8\u52A8\u753B" tabindex="-1"><a class="header-anchor" href="#\u7F13\u52A8\u52A8\u753B" aria-hidden="true">#</a> \u7F13\u52A8\u52A8\u753B</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    begin<span class="token operator">+=</span><span class="token punctuation">(</span>end<span class="token operator">-</span>begin<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.2</span>
    t_mall<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> begin <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>

<span class="token comment">//\u4E8B\u4EF6\u5BF9\u8C61</span>
<span class="token keyword">var</span> e <span class="token operator">=</span> ev <span class="token operator">||</span> window<span class="token punctuation">.</span>event
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6F02\u6D6E\u5E7F\u544A" tabindex="-1"><a class="header-anchor" href="#\u6F02\u6D6E\u5E7F\u544A" aria-hidden="true">#</a> \u6F02\u6D6E\u5E7F\u544A</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">class</span> <span class="token class-name">Float</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$options <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">step</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
      <span class="token comment">//\u521D\u59CB\u79FB\u52A8\u65B9\u5411\uFF0C1\u5411\u4E0B/\u5411\u53F3 -1 \u5411\u4E0A/\u5411\u5DE6</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">1</span>
      <span class="token comment">// \u8BBE\u7F6E\u5B9A\u4F4D\u6A21\u5F0F</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&#39;fixed&#39;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$setInterval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function-variable function">onmouseenter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function-variable function">onmouseleave</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//\u5B9A\u65F6\u56DE\u8C03\u51FD\u6570</span>
    <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span>
    <span class="token punctuation">}</span>
    <span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> width<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span>clientWidth<span class="token punctuation">}</span> <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement
      <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;</span> clientWidth <span class="token operator">-</span> width<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span>
      <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>step
    <span class="token punctuation">}</span>
    <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span>y<span class="token punctuation">,</span> height<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span>clientHeight<span class="token punctuation">}</span> <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">&gt;</span> clientHeight <span class="token operator">-</span> height<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">1</span>
      <span class="token keyword">return</span> y <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>step
    <span class="token punctuation">}</span>
    <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$setInterval<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$setInterval<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$setInterval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">new</span> <span class="token class-name">Float</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">step</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C55\u793A\u7279\u6548\u6ED1\u52A8" tabindex="-1"><a class="header-anchor" href="#\u5C55\u793A\u7279\u6548\u6ED1\u52A8" aria-hidden="true">#</a> \u5C55\u793A\u7279\u6548\u6ED1\u52A8</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//\u83B7\u53D6\u6807\u7B7E\u5143\u7D20</span>
  <span class="token keyword">let</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> box_top <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box_top&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> box_bottom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box_bottom&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> mask <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;mask&quot;</span><span class="token punctuation">)</span>
  <span class="token comment">//\u8BBE\u7F6E\u6EDA\u52A8\u6761\u957F\u5EA6</span>
  <span class="token keyword">let</span> mask_len <span class="token operator">=</span> <span class="token punctuation">(</span>box<span class="token punctuation">.</span>offsetWidth <span class="token operator">/</span> box_top<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span> <span class="token operator">*</span> box<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>
  mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> mask_len <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
  <span class="token comment">//\u9F20\u6807\u64CD\u4F5C</span>
  mask<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">let</span> e <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    <span class="token comment">//\u521D\u59CB\u503C</span>
    <span class="token keyword">let</span> beginX <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX <span class="token operator">-</span> mask<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
    <span class="token comment">//\u79FB\u52A8</span>
    document<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> e <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
      <span class="token keyword">let</span> endX <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX <span class="token operator">-</span> beginX
      <span class="token comment">//\u8FB9\u754C\u503C</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>endX <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        endX <span class="token operator">=</span> <span class="token number">0</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>endX <span class="token operator">&gt;=</span> box<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> mask<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        endX <span class="token operator">=</span> box<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> mask<span class="token punctuation">.</span>offsetWidth
      <span class="token punctuation">}</span>
      mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> endX <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> content_len <span class="token operator">=</span> <span class="token punctuation">(</span>box_top<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> box<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>box<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> mask<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span> <span class="token operator">*</span> endX<span class="token punctuation">;</span>
      box_top<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token operator">-</span>content_len <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    document<span class="token punctuation">.</span><span class="token function-variable function">onmouseup</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span>onmousemove <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u653E\u5927\u955C\u6548\u679C" tabindex="-1"><a class="header-anchor" href="#\u653E\u5927\u955C\u6548\u679C" aria-hidden="true">#</a> \u653E\u5927\u955C\u6548\u679C</h2><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>small_box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images/pic001.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mask<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>big_box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images/pic01.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span> <span class="token property">left</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span> <span class="token property">top</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images/pic0001.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images/pic0002.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images/pic0003.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//1.\u83B7\u53D6\u6807\u7B7E</span>
    <span class="token keyword">let</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> small_box <span class="token operator">=</span> box<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> big_box <span class="token operator">=</span> box<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> mask <span class="token operator">=</span> small_box<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> big_img <span class="token operator">=</span> big_box<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> list_img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>children<span class="token punctuation">;</span>

    <span class="token comment">//2.\u76D1\u542C\u9F20\u6807\u8FDB\u5165\u5C0F\u76D2\u5B50</span>
    small_box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mouseover&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//2.1\u628A\u9690\u85CF\u5185\u5BB9\u663E\u793A</span>
      mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;block&quot;</span><span class="token punctuation">;</span>
      big_box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;block&quot;</span>

      <span class="token comment">//2.2\u76D1\u542C\u9F20\u6807\u7684\u79FB\u52A8</span>
      small_box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mousemove&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> e <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
        <span class="token comment">//2.3\u9F20\u6807\u5750\u6807</span>
        <span class="token keyword">let</span> pointX <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX <span class="token operator">-</span> small_box<span class="token punctuation">.</span>offsetParent<span class="token punctuation">.</span>offsetLeft <span class="token operator">-</span> mask<span class="token punctuation">.</span>offsetWidth <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> pointY <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY <span class="token operator">-</span> small_box<span class="token punctuation">.</span>offsetParent<span class="token punctuation">.</span>offsetTop <span class="token operator">-</span> mask<span class="token punctuation">.</span>offsetHeight <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.4 \u8FB9\u754C\u68C0\u6D4B</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pointX <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          pointX <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pointX <span class="token operator">&gt;=</span> small_box<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> mask<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">{</span>
          pointX <span class="token operator">=</span> small_box<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> mask<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>pointY <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          pointY <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pointY <span class="token operator">&gt;=</span> small_box<span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> mask<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">{</span>
          pointY <span class="token operator">=</span> small_box<span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> mask<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 2.5 \u8BA9\u653E\u5927\u955C\u79FB\u52A8\u8D77\u6765</span>
        mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> pointX <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
        mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> pointY <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.6 \u8BA9\u5927\u56FE\u79FB\u52A8\u8D77\u6765</span>
        <span class="token comment">/*
           smallX / bigX = smallBox.width / \u5927\u56FE\u7684\u5BBD\u5EA6
           bigX = smallX / ( smallBox.width / \u5927\u56FE\u7684\u5BBD\u5EA6 )
        */</span>
        big_img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token operator">-</span> pointX <span class="token operator">/</span> <span class="token punctuation">(</span>small_box<span class="token punctuation">.</span>offsetWidth <span class="token operator">/</span> big_box<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
        big_img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token operator">-</span> pointY <span class="token operator">/</span> <span class="token punctuation">(</span>small_box<span class="token punctuation">.</span>offsetHeight <span class="token operator">/</span> big_box<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">//3.\u76D1\u542C\u9F20\u6807\u79BB\u5F00\u5C0F\u76D2\u5B50</span>
      small_box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mouseout&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 2.1 \u628A\u9690\u85CF\u7684\u5185\u5BB9\u663E\u793A</span>
        mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">;</span>
        big_box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// 4. \u904D\u5386\u5217\u8868\u56FE\u7247</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>list_img<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> img <span class="token operator">=</span> list_img<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        img<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          small_box<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;images/pic00&quot;</span><span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">&quot;.jpg&quot;</span><span class="token punctuation">;</span>
          big_img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;images/pic0&quot;</span><span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">&quot;.jpg&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u7011\u5E03\u6D41" tabindex="-1"><a class="header-anchor" href="#\u7011\u5E03\u6D41" aria-hidden="true">#</a> \u7011\u5E03\u6D41</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> divContainer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;container&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> imgWidth <span class="token operator">=</span> <span class="token number">220</span><span class="token punctuation">;</span> <span class="token comment">//\u6BCF\u5F20\u56FE\u7247\u7684\u56FA\u5B9A\u5BBD\u5EA6</span>

<span class="token comment">//1. \u52A0\u5165\u56FE\u7247\u5143\u7D20</span>
<span class="token keyword">function</span> <span class="token function">createImgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">40</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> src <span class="token operator">=</span> <span class="token string">&#39;img/&#39;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&#39;.jpg&#39;</span><span class="token punctuation">;</span> <span class="token comment">//\u751F\u6210\u56FE\u7247\u7684src\u8DEF\u5F84</span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>onload <span class="token operator">=</span> setPoisions<span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6Esrc\u8DEF\u5F84</span>
    divContainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u6DFB\u52A0\u5230\u5BB9\u5668\u4E2D</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">createImgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2. \u8BBE\u7F6E\u6BCF\u5F20\u56FE\u7247\u7684\u4F4D\u7F6E</span>

<span class="token keyword">function</span> <span class="token function">setPoisions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> info <span class="token operator">=</span> <span class="token function">cal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5F97\u5230\u5217\u6570\uFF0C\u548C \u95F4\u9699\u7684\u7A7A\u95F4</span>
  <span class="token keyword">var</span> nextTops <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>columns<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BE5\u6570\u7EC4\u7684\u957F\u5EA6\u4E3A\u5217\u6570\uFF0C\u6BCF\u4E00\u9879\u8868\u793A\u8BE5\u5217\u7684\u4E0B\u4E00\u4E2A\u56FE\u7247\u7684\u7EB5\u5750\u6807</span>
  nextTops<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5C06\u6570\u7EC4\u7684\u6BCF\u4E00\u9879\u586B\u5145\u4E3A0</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> divContainer<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> divContainer<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//\u627E\u5230nextTops\u4E2D\u7684\u6700\u5C0F\u503C\u4F5C\u4E3A\u5F53\u524D\u56FE\u7247\u7684\u7EB5\u5750\u6807</span>
    <span class="token keyword">var</span> minTop <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> nextTops<span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> minTop <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u91CD\u65B0\u8BBE\u7F6E\u6570\u7EC4\u8FD9\u4E00\u9879\u7684\u4E0B\u4E00\u4E2Atop\u503C</span>
    <span class="token keyword">var</span> index <span class="token operator">=</span> nextTops<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>minTop<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5F97\u5230\u4F7F\u7528\u7684\u662F\u7B2C\u51E0\u5217\u7684top\u503C</span>
    nextTops<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">+=</span> img<span class="token punctuation">.</span>height <span class="token operator">+</span> info<span class="token punctuation">.</span>space<span class="token punctuation">;</span>
    <span class="token comment">//\u6A2A\u5750\u6807</span>
    <span class="token keyword">var</span> left <span class="token operator">=</span> <span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> info<span class="token punctuation">.</span>space <span class="token operator">+</span> index <span class="token operator">*</span> imgWidth<span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> nextTops<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u6C42\u6700\u5927\u503C</span>
  divContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> max <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span> <span class="token comment">//3. \u8BBE\u7F6E\u5BB9\u5668\u7684\u9AD8\u5EA6</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * \u8BA1\u7B97\u4E00\u5171\u6709\u591A\u5C11\u5217\uFF0C\u4EE5\u53CA\u6BCF\u4E00\u5217\u4E4B\u95F4\u7684\u95F4\u9699
 */</span>
<span class="token keyword">function</span> <span class="token function">cal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> containerWidth <span class="token operator">=</span> divContainer<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span> <span class="token comment">//\u5BB9\u5668\u7684\u5BBD\u5EA6</span>
  <span class="token comment">//\u8BA1\u7B97\u5217\u7684\u6570\u91CF</span>
  <span class="token keyword">var</span> columns <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>containerWidth <span class="token operator">/</span> imgWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//\u8BA1\u7B97\u95F4\u9699</span>
  <span class="token keyword">var</span> spaceNumber <span class="token operator">=</span> columns <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//\u95F4\u9699\u6570\u91CF</span>
  <span class="token keyword">var</span> leftSpace <span class="token operator">=</span> containerWidth <span class="token operator">-</span> columns <span class="token operator">*</span> imgWidth<span class="token punctuation">;</span> <span class="token comment">//\u8BA1\u7B97\u5269\u4F59\u7684\u7A7A\u95F4</span>
  <span class="token keyword">var</span> space <span class="token operator">=</span> leftSpace <span class="token operator">/</span> spaceNumber<span class="token punctuation">;</span> <span class="token comment">//\u6BCF\u4E2A\u95F4\u9699\u7684\u7A7A\u95F4</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">space</span><span class="token operator">:</span> space<span class="token punctuation">,</span>
    <span class="token literal-property property">columns</span><span class="token operator">:</span> columns<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// window.onload = setPoisions;</span>
<span class="token keyword">var</span> timerId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//\u4E00\u4E2A\u8BA1\u65F6\u5668\u7684id</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//\u7A97\u53E3\u5C3A\u5BF8\u53D8\u52A8\u540E\uFF0C\u91CD\u65B0\u6392\u5217</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>timerId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timerId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  timerId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>setPoisions<span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,72),o=[e];function c(l,i){return s(),a("div",null,o)}var r=n(p,[["render",c],["__file","coordinate.html.vue"]]);export{r as default};
